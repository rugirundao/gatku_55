(function(){var n=function(){function e(e,t){var n=this;n.settings=$.extend($.fn.skippr.defaults,t),n.$element=$(e),n.$parent=n.$element.parent(),n.$photos=n.$element.children(),n.count=n.$photos.length,n.countString=String(n.count),n.touchOnThis=!1,n.previousTouchX=null,n.swipeDirection=null,n.init()}return e.prototype.init=function(){var e=this;e.setup(),e.navClick(),e.arrowClick(),e.resize(),e.keyPress(),1==e.settings.autoPlay&&e.autoPlay(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e.touch()},e.prototype.touch=function(){var n=this;n.$element.on("touchstart",function(e){var t=e.originalEvent.pageX;n.touchOnThis=!0,n.previousTouchX=t}),n.$element.on("touchmove",function(e){var t=e.originalEvent.pageX;n.touchOnThis&&(n.previousTouchX<t?n.swipeDirection="backwards":n.previousTouchX>t&&(n.swipeDirection="forwards"))}),n.$element.on("touchend",function(){n.touchOnThis=!1,"backwards"==n.swipeDirection?n.$element.find(".skippr-previous").trigger("click"):"forwards"==n.swipeDirection&&n.$element.find(".skippr-next").trigger("click"),n.swipeDirection=null})},e.prototype.setup=function(){var e=this;if("img"==e.settings.childrenElementType){var t=[];for(i=0;i<e.count;i++){var n='<div style="background-image: url('+e.$photos.eq(i).attr("src")+')"></div>';t.push(n)}t.join(""),e.$element.append(t),e.$element.find("img").remove(),e.$photos=e.$element.children()}if("array"==e.settings.childrenElementType){var r=e.settings.imgArray;t=[];for(i=0;i<r;i++){n='<div style="background-image: url('+r[i]+')"></div>';t.push(n)}t.join(""),e.$element.children().remove(),e.$element.append(t),e.$photos=e.$element.children()}"fade"==e.settings.transition&&e.$photos.not(":first-child").hide(),"slide"==e.settings.transition&&e.setupSlider(),e.$photos.eq(0).addClass("visible"),e.$element.addClass("skippr"),e.navBuild(),1==e.settings.arrows&&e.arrowBuild()},e.prototype.resize=function(){var i=this;"slide"==i.settings.transition&&$(window).resize(function(){var r=i.$element.find(".skippr-nav-element-active").attr("data-slider");i.setupSlider(),i.$photos.each(function(){var e,t=parseFloat($(this).css("left")),n=i.$parent.width();1<r&&(e=t-n*(r-1)),$(this).css("left",e+"px")}),!0===i.settings.autoPlay&&(clearInterval(timer),i.autoPlay())})},e.prototype.arrowBuild=function(){var e,t,n=this,r=n.count,i="",a="";!0===n.settings.hidePrevious&&(i='style="display:none;"'),"dark"===n.settings.theme&&(a="skippr-dark"),e='<nav class="skippr-nav-item skippr-arrow skippr-previous '+a+'" data-slider="'+r+'" '+i+"></nav>",t='<nav class="skippr-nav-item skippr-arrow skippr-next  '+a+'" data-slider="2"></nav>',n.$element.append(e+t)},e.prototype.navBuild=function(){var e,t=this,n=[];if("block"==t.settings.navType)var r="skippr-nav-element-block";else if("bubble"==t.settings.navType)r="skippr-nav-element-bubble";for(var i=0;i<t.count;i++){var a;a=0==i?"<div class='skippr-nav-element skippr-nav-item "+r+" skippr-nav-element-active' data-slider='"+(i+1)+"'></div>":"<div class='skippr-nav-element skippr-nav-item "+r+"' data-slider='"+(i+1)+"'></div>",n.push(a)}e='<nav class="skippr-nav-container">'+(n=n.join(""))+"</nav>",t.$element.append(e)},e.prototype.arrowClick=function(){var e=this;e.$element.find(".skippr-arrow").click(function(){$(this).hasClass("disabled")||e.change($(this)),e.settings.autoPlay&&e.resetTimer()})},e.prototype.navClick=function(){var e=this;e.$element.find(".skippr-nav-element").click(function(){$(this).hasClass("disabled")||e.change($(this)),e.settings.autoPlay&&e.resetTimer()})},e.prototype.change=function(e){var r=this,i=e.attr("data-slider"),a=r.$element.find(".skippr-nav-item"),o=r.$element.find(".skippr-nav-element-active").attr("data-slider");r.$element.find(".skippr-next").attr("data-slider"),r.$element.find(".skippr-previous").attr("data-slider");if(i!=o){"fade"==r.settings.transition&&(r.$photos.eq(i-1).css("z-index","10").siblings("div").css("z-index","9"),r.$photos.eq(i-1).fadeIn(r.settings.speed,function(){r.$element.find(".visible").fadeOut("fast",function(){$(this).removeClass("visible"),r.$photos.eq(i-1).addClass("visible")})})),"slide"==r.settings.transition&&r.$photos.each(function(){var e,t=parseFloat($(this).css("left")),n=r.$parent.width();o<i&&(e=t-n*(i-o)),i<o&&(e=t+n*(o-i)),a.addClass("disabled"),$(this).velocity({left:e+"px"},r.settings.speed,r.settings.easing,function(){a.removeClass("disabled")}),r.logs("slides sliding")}),r.$element.find(".skippr-nav-element").eq(i-1).addClass("skippr-nav-element-active").siblings().removeClass("skippr-nav-element-active");var t=Number(i)+1,n=Number(i)-1;i==r.count?r.$element.find(".skippr-next").attr("data-slider","1"):r.$element.find(".skippr-next").attr("data-slider",t),1==i?r.$element.find(".skippr-previous").attr("data-slider",r.countString):r.$element.find(".skippr-previous").attr("data-slider",n),r.settings.arrows&&r.settings.hidePrevious&&r.hidePrevious()}},e.prototype.autoPlay=function(){var n=this;timer=setInterval(function(){var e=n.$element.find(".skippr-nav-element-active");if(e.attr("data-slider")==n.count)var t=n.$element.find(".skippr-nav-element").eq(0);else t=e.next();n.change(t)},n.settings.autoPlayDuration)},e.prototype.resetTimer=function(){clearInterval(timer),this.autoPlay()},e.prototype.autoPlayPause=function(){var t=this;t.$parent.hover(function(){clearInterval(timer),t.logs("clearing timer on hover")},function(){t.autoPlay(),t.logs("resetting timer on un-hover")}),$(window).on("blur focus",function(e){if($(this).data("prevType")!=e.type)switch(e.type){case"blur":clearInterval(timer),t.logs("clearing timer on window blur");break;case"focus":t.autoPlay(),t.logs("resetting timer on window focus")}$(this).data("prevType",e.type)})},e.prototype.setupSlider=function(){var e,t=this.$parent.width();for(this.$photos.css("position","absolute"),i=0;i<this.count;i++)e=t*i,this.$photos.eq(i).css("left",e)},e.prototype.keyPress=function(){var t=this;1==t.settings.keyboardOnAlways&&$(document).on("keydown",function(e){39==e.which&&t.$element.find(".skippr-next").trigger("click"),37==e.which&&t.$element.find(".skippr-previous").trigger("click")}),0==t.settings.keyboardOnAlways&&t.$parent.hover(function(){$(document).on("keydown",function(e){39==e.which&&t.$element.find(".skippr-next").trigger("click"),37==e.which&&t.$element.find(".skippr-previous").trigger("click")})},function(){$(document).off("keydown")})},e.prototype.hidePrevious=function(){this.$element.find(".skippr-nav-element").eq(0).hasClass("skippr-nav-element-active")?this.$element.find(".skippr-previous").fadeOut():this.$element.find(".skippr-previous").fadeIn()},e.prototype.logs=function(e){!0===this.settings.logs&&console.log(e)},e}();$.fn.skippr=function(e){var t;return(t=this.data("skippr"))?!0===e?t:("string"===$.type(e)&&t[e](),this):this.each(function(){return $(this).data("skippr",new n(this,e))})},$.fn.skippr.defaults={transition:"slide",speed:1e3,easing:"easeOutQuart",navType:"block",childrenElementType:"div",arrows:!0,autoPlay:!1,autoPlayDuration:5e3,keyboardOnAlways:!0,hidePrevious:!1,imgArray:null,logs:!1,theme:"light"}}).call(this),function(e){"function"==typeof define&&define.amd?window.Velocity?define(e):define(["jquery"],e):e("object"==typeof exports?window.Velocity?void 0:require("jquery"):window.jQuery)}(function(c){return function(e,q,j,R){function z(e){var t=H.data(e,n);return null===t?R:t}function L(e,t){var n=e;return B.isString(e)?U.Easings[e]||(n=!1):n=B.isArray(e)&&1===e.length?function(t){return function(e){return Math.round(e*t)*(1/t)}}.apply(null,e):B.isArray(e)&&2===e.length?o.apply(null,e.concat([t])):!(!B.isArray(e)||4!==e.length)&&a.apply(null,e),!1===n&&(n=U.Easings[U.defaults.easing]?U.defaults.easing:i),n}function _(e){if(e)for(var t=(new Date).getTime(),n=0,r=U.State.calls.length;n<r;n++)if(U.State.calls[n]){var i=U.State.calls[n],a=i[0],o=i[2],s=i[3];s||(s=U.State.calls[n][3]=t-16);for(var c=Math.min((t-s)/o.duration,1),l=0,u=a.length;l<u;l++){var d=a[l],p=d.element;if(z(p)){var f=!1;for(var h in o.display&&"none"!==o.display&&G.setPropertyValue(p,"display",o.display),o.visibility&&"hidden"!==o.visibility&&G.setPropertyValue(p,"visibility",o.visibility),d)if("element"!==h){var g,m=d[h],v=B.isString(m.easing)?U.Easings[m.easing]:m.easing;if(g=1===c?m.endValue:m.startValue+(m.endValue-m.startValue)*v(c),m.currentValue=g,G.Hooks.registered[h]){var y=G.Hooks.getRoot(h),b=z(p).rootPropertyValueCache[y];b&&(m.rootPropertyValue=b)}var w=G.setPropertyValue(p,h,m.currentValue+(0===parseFloat(g)?"":m.unitType),m.rootPropertyValue,m.scrollData);G.Hooks.registered[h]&&(z(p).rootPropertyValueCache[y]=G.Normalizations.registered[y]?G.Normalizations.registered[y]("extract",null,w[1]):w[1]),"transform"===w[0]&&(f=!0)}o.mobileHA&&z(p).transformCache.translate3d===R&&(z(p).transformCache.translate3d="(0px, 0px, 0px)",f=!0),f&&G.flushTransformCache(p)}}o.display&&"none"!==o.display&&(U.State.calls[n][2].display=!1),o.visibility&&"hidden"!==o.visibility&&(U.State.calls[n][2].visibility=!1),o.progress&&o.progress.call(i[1],i[1],c,Math.max(0,s+o.duration-t),s),1===c&&$(n)}U.State.isTicking&&(U.mock?_(!0):C(_))}function $(e,t){if(!U.State.calls[e])return!1;for(var n=U.State.calls[e][0],r=U.State.calls[e][1],i=U.State.calls[e][2],a=U.State.calls[e][4],o=!1,s=0,c=n.length;s<c;s++){var l=n[s].element;if(t||i.loop||("none"===i.display&&G.setPropertyValue(l,"display",i.display),"hidden"===i.visibility&&G.setPropertyValue(l,"visibility",i.visibility)),(H.queue(l)[1]===R||!/\.velocityQueueEntryFlag/i.test(H.queue(l)[1]))&&z(l)){z(l).isAnimating=!1;var u=!(z(l).rootPropertyValueCache={});H.each(z(l).transformCache,function(e,t){var n=/^scale/.test(e)?1:0;new RegExp("^\\("+n+"[^.]").test(t)&&(u=!0,delete z(l).transformCache[e])}),i.mobileHA&&(u=!0,delete z(l).transformCache.translate3d),u&&G.flushTransformCache(l),G.Values.removeClass(l,"velocity-animating")}if(!t&&i.complete&&!i.loop&&s===c-1)try{i.complete.call(r,r)}catch(e){setTimeout(function(){throw e},1)}a&&!0!==i.loop&&a(r),!0!==i.loop||t||U.animate(l,"reverse",{loop:!0,delay:i.delay}),!1!==i.queue&&H.dequeue(l,i.queue)}U.State.calls[e]=!1;for(var d=0,p=U.State.calls.length;d<p;d++)if(!1!==U.State.calls[d]){o=!0;break}!1===o&&(U.State.isTicking=!1,delete U.State.calls,U.State.calls=[])}var H,r,n="velocity",i="swing",d=function(){if(j.documentMode)return j.documentMode;for(var e=7;4<e;e--){var t=j.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return R}(),t=(r=0,q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-r)),r=n+t,setTimeout(function(){e(n+t)},t)}),C=q.requestAnimationFrame||t,B={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==R&&(0===e.length||"object"==typeof e[0]&&0<e[0].nodeType)},isWrapped:function(e){return e&&(e.jquery||q.Zepto&&q.Zepto.zepto.isZ(e))},isSVG:function(e){return q.SVGElement&&e instanceof SVGElement},isEmptyObject:function(e){var t;for(t in e)return!1;return!0}};if(c&&c.fn!==R?H=c:q.Velocity&&q.Velocity.Utilities&&(H=q.Velocity.Utilities),!H)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(e.Velocity!==R&&e.Velocity.Utilities==R)throw new Error("Velocity: Namespace is occupied.");if(d<=7){if(c)return void(c.fn.velocity=c.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===d&&!c)throw new Error("Velocity: For IE8, Velocity requires jQuery proper to be loaded; Velocity's jQuery shim does not work with IE8.");var U={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:q.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:j.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:H,Sequences:{},Easings:{},Promise:q.Promise,defaults:{queue:"",duration:400,easing:i,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){H.data(e,n,{isSVG:B.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:function(){},hook:function(e,r,i){var a=R;return B.isWrapped(e)&&(e=[].slice.call(e)),H.each(B.isNode(e)?[e]:e,function(e,t){if(z(t)===R&&U.init(t),i===R)a===R&&(a=U.CSS.getPropertyValue(t,r));else{var n=U.CSS.setPropertyValue(t,r,i);"transform"===n[0]&&U.CSS.flushTransformCache(t),a=n}}),a},mock:!1,version:{major:0,minor:11,patch:2},debug:!1};q.pageYOffset!==R?(U.State.scrollAnchor=q,U.State.scrollPropertyLeft="pageXOffset",U.State.scrollPropertyTop="pageYOffset"):(U.State.scrollAnchor=j.documentElement||j.body.parentNode||j.body,U.State.scrollPropertyLeft="scrollLeft",U.State.scrollPropertyTop="scrollTop");var a=function(){function l(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function d(e){return 3*e}function p(e,t,n){return((l(t,n)*e+u(t,n))*e+d(t))*e}return function(s,t,c,n){if(4!==arguments.length)return!1;for(var e=0;e<4;++e)if("number"!=typeof arguments[e]||isNaN(arguments[e])||!isFinite(arguments[e]))return!1;return s=Math.min(s,1),c=Math.min(c,1),s=Math.max(s,0),c=Math.max(c,0),function(e){return s===t&&c===n?e:p(function(e){for(var t=e,n=0;n<8;++n){var r=(i=t,3*l(a=s,o=c)*i*i+2*u(a,o)*i+d(a));if(0===r)return t;t-=(p(t,s,c)-e)/r}var i,a,o;return t}(e),t,n)}}}(),o=function(){function y(e){return-e.tension*e.x-e.friction*e.v}function b(e,t,n){var r={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:r.v,dv:y(r)}}return function e(t,n,r){var i,a,o,s,c,l,u,d,p,f,h,g={x:-1,v:0,tension:null,friction:null},m=[0],v=0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,r=r||null,g.tension=t,g.friction=n,(i=null!==r)?a=(v=e(t,n))/r*.016:a=.016;c=a,void 0,l={dx:(s=o||g).v,dv:y(s)},u=b(s,.5*c,l),d=b(s,.5*c,u),p=b(s,c,d),f=1/6*(l.dx+2*(u.dx+d.dx)+p.dx),h=1/6*(l.dv+2*(u.dv+d.dv)+p.dv),s.x=s.x+f*c,s.v=s.v+h*c,o=s,m.push(1+o.x),v+=16,1e-4<Math.abs(o.x)&&1e-4<Math.abs(o.v););return i?function(e){return m[e*(m.length-1)|0]}:v}}();!function(){U.Easings.linear=function(e){return e},U.Easings.swing=function(e){return.5-Math.cos(e*Math.PI)/2},U.Easings.spring=function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)},U.Easings.ease=a(.25,.1,.25,1),U.Easings["ease-in"]=a(.42,0,1,1),U.Easings["ease-out"]=a(0,0,.58,1),U.Easings["ease-in-out"]=a(.42,0,.58,1);var n={};H.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){n[e]=function(e){return Math.pow(e,t+2)}}),H.extend(n,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),H.each(n,function(e,t){U.Easings["easeIn"+e]=t,U.Easings["easeOut"+e]=function(e){return 1-t(1-e)},U.Easings["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}})}();var s,G=U.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<G.Lists.colors.length;e++)G.Hooks.templates[G.Lists.colors[e]]=["Red Green Blue Alpha","255 255 255 1"];var t,n,r;if(d)for(t in G.Hooks.templates){r=(n=G.Hooks.templates[t])[0].split(" ");var i=n[1].match(G.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),i.push(i.shift()),G.Hooks.templates[t]=[r.join(" "),i.join(" ")])}for(t in G.Hooks.templates)for(var e in r=(n=G.Hooks.templates[t])[0].split(" ")){var a=t+r[e],o=e;G.Hooks.registered[a]=[t,o]}},getRoot:function(e){var t=G.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return G.RegEx.valueUnwrap.test(t)&&(t=t.match(G.Hooks.RegEx.valueUnwrap)[1]),G.Values.isCSSNullValue(t)&&(t=G.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=G.Hooks.registered[e];if(n){var r=n[0],i=n[1];return(t=G.Hooks.cleanRootPropertyValue(r,t)).toString().match(G.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,n){var r=G.Hooks.registered[e];if(r){var i,a=r[0],o=r[1];return(i=(n=G.Hooks.cleanRootPropertyValue(a,n)).toString().match(G.RegEx.valueSplit))[o]=t,i.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var r;return G.RegEx.wrappedValueAlreadyExtracted.test(n)?r=n:r=(r=n.toString().match(G.RegEx.valueUnwrap))?r[1].replace(/,(\s+)?/g," "):n,r;case"inject":return"rect("+n+")"}},opacity:function(e,t,n){if(d<=8)switch(e){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return r?r[1]/100:1;case"inject":return(t.style.zoom=1)<=parseFloat(n)?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){d<=9||U.State.isGingerbread||(G.Lists.transformsBase=G.Lists.transformsBase.concat(G.Lists.transforms3D));for(var e=0;e<G.Lists.transformsBase.length;e++)!function(){var i=G.Lists.transformsBase[e];G.Normalizations.registered[i]=function(e,t,n){switch(e){case"name":return"transform";case"extract":return z(t)===R||z(t).transformCache[i]===R?/^scale/i.test(i)?1:0:z(t).transformCache[i].replace(/[()]/g,"");case"inject":var r=!1;switch(i.substr(0,i.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":U.State.isAndroid&&z(t).transformCache[i]===R&&n<1&&(n=1),r=!/(\d)$/i.test(n);break;case"skew":r=!/(deg|\d)$/i.test(n);break;case"rotate":r=!/(deg|\d)$/i.test(n)}return r||(z(t).transformCache[i]="("+n+")"),z(t).transformCache[i]}}}();for(e=0;e<G.Lists.colors.length;e++)!function(){var o=G.Lists.colors[e];G.Normalizations.registered[o]=function(e,t,n){switch(e){case"name":return o;case"extract":var r;if(G.RegEx.wrappedValueAlreadyExtracted.test(n))r=n;else{var i,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?i=a[n]!==R?a[n]:a.black:G.RegEx.isHex.test(n)?i="rgb("+G.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(i=a.black),r=(i||n).toString().match(G.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return d<=8||3!==r.split(" ").length||(r+=" 1"),r;case"inject":return d<=8?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(d<=8?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||U.State.isAndroid&&!U.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(U.State.prefixMatches[e])return[U.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,r=t.length;n<r;n++){var i;if(i=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),B.isString(U.State.prefixElement.style[i]))return[U.State.prefixMatches[e]=i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,t,n,l){function u(e,t){function n(){a&&G.setPropertyValue(e,"display","none")}var r=0;if(d<=8)r=H.css(e,t);else{var i,a=!1;if(/^(width|height)$/.test(t)&&0===G.getPropertyValue(e,"display")&&(a=!0,G.setPropertyValue(e,"display",G.Values.getDisplayType(e))),!l){if("height"===t&&"border-box"!==G.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var o=e.offsetHeight-(parseFloat(G.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(G.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(G.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(G.getPropertyValue(e,"paddingBottom"))||0);return n(),o}if("width"===t&&"border-box"!==G.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var s=e.offsetWidth-(parseFloat(G.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(G.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(G.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(G.getPropertyValue(e,"paddingRight"))||0);return n(),s}}i=z(e)===R?q.getComputedStyle(e,null):z(e).computedStyle?z(e).computedStyle:z(e).computedStyle=q.getComputedStyle(e,null),(d||U.State.isFirefox)&&"borderColor"===t&&(t="borderTopColor"),(""===(r=9===d&&"filter"===t?i.getPropertyValue(t):i[t])||null===r)&&(r=e.style[t]),n()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(t)){var c=u(e,"position");("fixed"===c||"absolute"===c&&/top|left/i.test(t))&&(r=H(e).position()[t]+"px")}return r}var r;if(G.Hooks.registered[t]){var i=t,a=G.Hooks.getRoot(i);n===R&&(n=G.getPropertyValue(e,G.Names.prefixCheck(a)[0])),G.Normalizations.registered[a]&&(n=G.Normalizations.registered[a]("extract",e,n)),r=G.Hooks.extractValue(i,n)}else if(G.Normalizations.registered[t]){var o,s;"transform"!==(o=G.Normalizations.registered[t]("name",e))&&(s=u(e,G.Names.prefixCheck(o)[0]),G.Values.isCSSNullValue(s)&&G.Hooks.templates[t]&&(s=G.Hooks.templates[t][1])),r=G.Normalizations.registered[t]("extract",e,s)}return/^[\d-]/.test(r)||(r=z(e)&&z(e).isSVG&&G.Names.SVGAttribute(t)?/^(height|width)$/i.test(t)?e.getBBox()[t]:e.getAttribute(t):u(e,G.Names.prefixCheck(t)[0])),G.Values.isCSSNullValue(r)&&(r=0),2<=U.debug&&console.log("Get "+t+": "+r),r},setPropertyValue:function(e,t,n,r,i){var a=t;if("scroll"===t)i.container?i.container["scroll"+i.direction]=n:"Left"===i.direction?q.scrollTo(n,i.alternateValue):q.scrollTo(i.alternateValue,n);else if(G.Normalizations.registered[t]&&"transform"===G.Normalizations.registered[t]("name",e))G.Normalizations.registered[t]("inject",e,n),a="transform",n=z(e).transformCache[t];else{if(G.Hooks.registered[t]){var o=t,s=G.Hooks.getRoot(t);r=r||G.getPropertyValue(e,s),n=G.Hooks.injectValue(o,n,r),t=s}if(G.Normalizations.registered[t]&&(n=G.Normalizations.registered[t]("inject",e,n),t=G.Normalizations.registered[t]("name",e)),a=G.Names.prefixCheck(t)[0],d<=8)try{e.style[a]=n}catch(e){U.debug&&console.log("Browser does not support ["+n+"] for ["+a+"]")}else z(e)&&z(e).isSVG&&G.Names.SVGAttribute(t)?e.setAttribute(t,n):e.style[a]=n;2<=U.debug&&console.log("Set "+t+" ("+a+"): "+n)}return[a,n]},flushTransformCache:function(t){function e(e){return parseFloat(G.getPropertyValue(t,e))}var n="";if((d||U.State.isAndroid&&!U.State.isChrome)&&z(t).isSVG){var r={translate:[e("translateX"),e("translateY")],skewX:[e("skewX")],skewY:[e("skewY")],scale:1!==e("scale")?[e("scale"),e("scale")]:[e("scaleX"),e("scaleY")],rotate:[e("rotateZ"),0,0]};H.each(z(t).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(n+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var i,a;H.each(z(t).transformCache,function(e){return i=z(t).transformCache[e],"transformPerspective"===e?(a=i,!0):(9===d&&"rotateZ"===e&&(e="rotate"),void(n+=e+i+" "))}),a&&(n="perspective"+a+" "+n)}G.setPropertyValue(t,"transform",n)}};return G.Hooks.register(),G.Normalizations.register(),U.animate=function(){function e(){return t?E.promise||null:n}var t,n,r,A,I,N,i=arguments[0]&&(H.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||B.isString(arguments[0].properties));if(B.isWrapped(this)?(t=!1,r=0,n=A=this):(t=!0,r=1,A=i?arguments[0].elements:arguments[0]),A=B.isWrapped(A)?[].slice.call(A):A){i?(I=arguments[0].properties,N=arguments[0].options):(I=arguments[r],N=arguments[r+1]);var D=B.isArray(A)||B.isNodeList(A)?A.length:1,O=0;if("stop"!==I&&!H.isPlainObject(N)){N={};for(var a=r+1;a<arguments.length;a++)!B.isArray(arguments[a])&&/^\d/.test(arguments[a])?N.duration=parseFloat(arguments[a]):B.isString(arguments[a])||B.isArray(arguments[a])?N.easing=arguments[a]:B.isFunction(arguments[a])&&(N.complete=arguments[a])}var V,E={promise:null,resolver:null,rejecter:null};switch(t&&U.Promise&&(E.promise=new U.Promise(function(e,t){E.resolver=e,E.rejecter=t})),I){case"scroll":V="scroll";break;case"reverse":V="reverse";break;case"stop":H.each(B.isNode(A)?[A]:A,function(e,t){z(t)&&z(t).delayTimer&&(clearTimeout(z(t).delayTimer.setTimeout),z(t).delayTimer.next&&z(t).delayTimer.next(),delete z(t).delayTimer)});var o=[];return H.each(U.State.calls,function(i,e){e&&H.each(B.isNode(e[1])?[e[1]]:e[1],function(e,r){H.each(B.isNode(A)?[A]:A,function(e,t){if(t===r){if(z(t)&&H.each(z(t).tweensContainer,function(e,t){t.endValue=t.currentValue}),!0===N||B.isString(N)){var n=B.isString(N)?N:"";H.each(H.queue(t,n),function(e,t){B.isFunction(t)&&t(null,!0)}),H.queue(t,n,[])}o.push(i)}})})}),H.each(o,function(e,t){$(t,!0)}),E.promise&&E.resolver(A),e();default:if(!H.isPlainObject(I)||B.isEmptyObject(I)){if(B.isString(I)&&U.Sequences[I]){var s=N.duration,c=N.delay||0;return!0===N.backwards&&(A=(B.isWrapped(A)?[].slice.call(A):A).reverse()),H.each(A,function(e,t){parseFloat(N.stagger)?N.delay=c+parseFloat(N.stagger)*e:B.isFunction(N.stagger)&&(N.delay=c+N.stagger.call(t,e,D)),N.drag&&(N.duration=parseFloat(s)||(/^(callout|transition)/.test(I)?1e3:400),N.duration=Math.max(N.duration*(N.backwards?1-e/D:(e+1)/D),.75*N.duration,200)),U.Sequences[I].call(t,t,N||{},e,D,A,E.promise?E:R)}),e()}var l="Velocity: First argument ("+I+") was not a property map, a known action, or a registered sequence. Aborting.";return E.promise?E.rejecter(new Error(l)):console.log(l),e()}V="start"}var F={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},M=[];H.each(B.isNode(A)?[A]:A,function(e,t){B.isNode(t)&&function(){function n(e){function u(e,t){var n=R,r=R,i=R;return B.isArray(e)?(n=e[0],!B.isArray(e[1])&&/^[\d-]/.test(e[1])||B.isFunction(e[1])||G.RegEx.isHex.test(e[1])?i=e[1]:(B.isString(e[1])&&!G.RegEx.isHex.test(e[1])||B.isArray(e[1]))&&(r=t?e[1]:L(e[1],k.duration),e[2]!==R&&(i=e[2]))):n=e,t||(r=r||k.easing),B.isFunction(n)&&(n=n.call(S,O,D)),B.isFunction(i)&&(i=i.call(S,O,D)),[n||0,r,i]}function t(e,t){var n,r;return r=(t||0).toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=G.Values.getUnitType(e)),[r,n]}function n(){var e={myParent:S.parentNode||j.body,position:G.getPropertyValue(S,"position"),fontSize:G.getPropertyValue(S,"fontSize")},t=e.position===F.lastPosition&&e.myParent===F.lastParent,n=e.fontSize===F.lastFontSize;F.lastParent=e.myParent,F.lastPosition=e.position,F.lastFontSize=e.fontSize;var r=100,i={};if(n&&t)i.emToPx=F.lastEmToPx,i.percentToPxWidth=F.lastPercentToPxWidth,i.percentToPxHeight=F.lastPercentToPxHeight;else{var a=z(S).isSVG?j.createElementNS("http://www.w3.org/2000/svg","rect"):j.createElement("div");U.init(a),e.myParent.appendChild(a),U.CSS.setPropertyValue(a,"position",e.position),U.CSS.setPropertyValue(a,"fontSize",e.fontSize),U.CSS.setPropertyValue(a,"overflow","hidden"),U.CSS.setPropertyValue(a,"overflowX","hidden"),U.CSS.setPropertyValue(a,"overflowY","hidden"),U.CSS.setPropertyValue(a,"boxSizing","content-box"),U.CSS.setPropertyValue(a,"paddingLeft","100em"),U.CSS.setPropertyValue(a,"minWidth","100%"),U.CSS.setPropertyValue(a,"maxWidth","100%"),U.CSS.setPropertyValue(a,"width","100%"),U.CSS.setPropertyValue(a,"minHeight","100%"),U.CSS.setPropertyValue(a,"maxHeight","100%"),U.CSS.setPropertyValue(a,"height","100%"),i.percentToPxWidth=F.lastPercentToPxWidth=(parseFloat(G.getPropertyValue(a,"width",null,!0))||1)/r,i.percentToPxHeight=F.lastPercentToPxHeight=(parseFloat(G.getPropertyValue(a,"height",null,!0))||1)/r,i.emToPx=F.lastEmToPx=(parseFloat(G.getPropertyValue(a,"paddingLeft"))||1)/r,e.myParent.removeChild(a)}return null===F.remToPx&&(F.remToPx=parseFloat(G.getPropertyValue(j.body,"fontSize"))||16),null===F.vwToPx&&(F.vwToPx=parseFloat(q.innerWidth)/100,F.vhToPx=parseFloat(q.innerHeight)/100),i.remToPx=F.remToPx,i.vwToPx=F.vwToPx,i.vhToPx=F.vhToPx,1<=U.debug&&console.log("Unit ratios: "+JSON.stringify(i),S),i}if(k.begin&&0===O)try{k.begin.call(A,A)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===V){var r,i,a,o=/^x$/i.test(k.axis)?"Left":"Top",s=parseFloat(k.offset)||0;k.container?B.isWrapped(k.container)||B.isNode(k.container)?(k.container=k.container[0]||k.container,a=(r=k.container["scroll"+o])+H(S).position()[o.toLowerCase()]+s):k.container=null:(r=U.State.scrollAnchor[U.State["scrollProperty"+o]],i=U.State.scrollAnchor[U.State["scrollProperty"+("Left"===o?"Top":"Left")]],a=H(S).offset()[o.toLowerCase()]+s),T={scroll:{rootPropertyValue:!1,startValue:r,currentValue:r,endValue:a,unitType:"",easing:k.easing,scrollData:{container:k.container,direction:o,alternateValue:i}},element:S},U.debug&&console.log("tweensContainer (scroll): ",T.scroll,S)}else if("reverse"===V){if(!z(S).tweensContainer)return void H.dequeue(S,k.queue);"none"===z(S).opts.display&&(z(S).opts.display="block"),"hidden"===z(S).opts.visibility&&(z(S).opts.visibility="visible"),z(S).opts.loop=!1,z(S).opts.begin=null,z(S).opts.complete=null,N.easing||delete k.easing,N.duration||delete k.duration,k=H.extend({},z(S).opts,k);var c=H.extend(!0,{},z(S).tweensContainer);for(var l in c)if("element"!==l){var d=c[l].startValue;c[l].startValue=c[l].currentValue=c[l].endValue,c[l].endValue=d,B.isEmptyObject(N)||(c[l].easing=k.easing),U.debug&&console.log("reverse tweensContainer ("+l+"): "+JSON.stringify(c[l]),S)}T=c}else if("start"===V){for(var p in z(S).tweensContainer&&!0===z(S).isAnimating&&(c=z(S).tweensContainer),H.each(I,function(e,t){if(RegExp("^"+G.Lists.colors.join("$|^")+"$").test(e)){var n=u(t,!0),r=n[0],i=n[1],a=n[2];if(G.RegEx.isHex.test(r)){for(var o=["Red","Green","Blue"],s=G.Values.hexToRgb(r),c=a?G.Values.hexToRgb(a):R,l=0;l<o.length;l++)I[e+o[l]]=[s[l],i,c?c[l]:c];delete I[e]}}}),I){var f=u(I[p]),h=f[0],g=f[1],m=f[2];p=G.Names.camelCase(p);var v=G.Hooks.getRoot(p),y=!1;if(z(S).isSVG||!1!==G.Names.prefixCheck(v)[1]||G.Normalizations.registered[v]!==R){(k.display&&"none"!==k.display||k.visibility&&"hidden"!==k.visibility)&&/opacity|filter/.test(p)&&!m&&0!==h&&(m=0),k._cacheValues&&c&&c[p]?(m===R&&(m=c[p].endValue+c[p].unitType),y=z(S).rootPropertyValueCache[v]):G.Hooks.registered[p]?m===R?(y=G.getPropertyValue(S,v),m=G.getPropertyValue(S,p,y)):y=G.Hooks.templates[v][1]:m===R&&(m=G.getPropertyValue(S,p));var b,w,$,C=!1;if(m=(b=t(p,m))[0],$=b[1],h=(b=t(p,h))[0].replace(/^([+-\/*])=/,function(e,t){return C=t,""}),w=b[1],m=parseFloat(m)||0,h=parseFloat(h)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(p)?(h/=100,w="em"):/^scale/.test(p)?(h/=100,w=""):/(Red|Green|Blue)$/i.test(p)&&(h=h/100*255,w="")),/[\/*]/.test(C))w=$;else if($!==w&&0!==m)if(0===h)w=$;else{P=P||n();var x=/margin|padding|left|right|width|text|word|letter/i.test(p)||/X$/.test(p)?"x":"y";switch($){case"%":m*="x"===x?P.percentToPxWidth:P.percentToPxHeight;break;case"px":break;default:m*=P[$+"ToPx"]}switch(w){case"%":m*=1/("x"===x?P.percentToPxWidth:P.percentToPxHeight);break;case"px":break;default:m*=1/P[w+"ToPx"]}}switch(C){case"+":h=m+h;break;case"-":h=m-h;break;case"*":h*=m;break;case"/":h=m/h}T[p]={rootPropertyValue:y,startValue:m,currentValue:m,endValue:h,unitType:w,easing:g},U.debug&&console.log("tweensContainer ("+p+"): "+JSON.stringify(T[p]),S)}else U.debug&&console.log("Skipping ["+v+"] due to a lack of browser support.")}T.element=S}T.element&&(G.Values.addClass(S,"velocity-animating"),M.push(T),z(S).tweensContainer=T,z(S).opts=k,z(S).isAnimating=!0,O===D-1?(1e4<U.State.calls.length&&(U.State.calls=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}(U.State.calls)),U.State.calls.push([M,A,k,null,E.resolver]),!1===U.State.isTicking&&(U.State.isTicking=!0,_())):O++)}var P,S=this,k=H.extend({},U.defaults,N),T={};if(z(S)===R&&U.init(S),parseFloat(k.delay)&&!1!==k.queue&&H.queue(S,k.queue,function(e){U.velocityQueueEntryFlag=!0,z(S).delayTimer={setTimeout:setTimeout(e,parseFloat(k.delay)),next:e}}),!0===U.mock)k.duration=1;else switch(k.duration.toString().toLowerCase()){case"fast":k.duration=200;break;case"normal":k.duration=400;break;case"slow":k.duration=600;break;default:k.duration=parseFloat(k.duration)||1}k.easing=L(k.easing,k.duration),k.begin&&!B.isFunction(k.begin)&&(k.begin=null),k.progress&&!B.isFunction(k.progress)&&(k.progress=null),k.complete&&!B.isFunction(k.complete)&&(k.complete=null),k.display&&(k.display=k.display.toString().toLowerCase(),"auto"===k.display&&(k.display=U.CSS.Values.getDisplayType(S))),k.visibility&&(k.visibility=k.visibility.toString().toLowerCase()),k.mobileHA=k.mobileHA&&U.State.isMobile&&!U.State.isGingerbread,!1===k.queue?k.delay?setTimeout(n,k.delay):n():H.queue(S,k.queue,function(e,t){return!0===t?(E.promise&&E.resolver(A),!0):(U.velocityQueueEntryFlag=!0,void n())}),""!==k.queue&&"fx"!==k.queue||"inprogress"===H.queue(S)[0]||H.dequeue(S)}.call(t)});var u,d=H.extend({},U.defaults,N);if(d.loop=parseInt(d.loop),u=2*d.loop-1,d.loop)for(var p=0;p<u;p++){var f={delay:d.delay};p===u-1&&(f.display=d.display,f.visibility=d.visibility,f.complete=d.complete),U.animate(A,"reverse",f)}return e()}},U.State.isMobile||j.hidden===R||j.addEventListener("visibilitychange",function(){j.hidden?(C=function(e){return setTimeout(function(){e(!0)},16)},_()):C=q.requestAnimationFrame||t}),c&&c.fn?s=c:q.Zepto&&(s=q.Zepto),(s||q).Velocity=U,s&&(s.fn.velocity=U.animate,s.fn.velocity.defaults=U.defaults),H.each(["Down","Up"],function(e,d){U.Sequences["slide"+d]=function(r,e,t,n,i,a){var o=H.extend({},e),s={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},c=o.begin,l=o.complete,u=!1;null!==o.display&&(o.display="Down"===d?o.display||"auto":o.display||"none"),o.begin=function(){function e(){s.height=parseFloat(U.CSS.getPropertyValue(r,"height")),r.style.height="auto",parseFloat(U.CSS.getPropertyValue(r,"height"))===s.height&&(u=!0),U.CSS.setPropertyValue(r,"height",s.height+"px")}if("Down"===d){for(var t in s.overflow=[U.CSS.getPropertyValue(r,"overflow"),0],s.overflowX=[U.CSS.getPropertyValue(r,"overflowX"),0],s.overflowY=[U.CSS.getPropertyValue(r,"overflowY"),0],r.style.overflow="hidden",r.style.overflowX="visible",r.style.overflowY="hidden",e(),s)if(!/^overflow/.test(t)){var n=U.CSS.getPropertyValue(r,t);"height"===t&&(n=parseFloat(n)),s[t]=[n,0]}}else{for(var t in e(),s){n=U.CSS.getPropertyValue(r,t);"height"===t&&(n=parseFloat(n)),s[t]=[0,n]}r.style.overflow="hidden",r.style.overflowX="visible",r.style.overflowY="hidden"}c&&c.call(r,r)},o.complete=function(e){var t="Down"===d?0:1;for(var n in!0===u?s.height[t]="auto":s.height[t]+="px",s)e.style[n]=s[n][t];l&&l.call(e,e),a&&a.resolver(i||e)},U.animate(r,s,o)}}),H.each(["In","Out"],function(e,l){U.Sequences["fade"+l]=function(e,t,n,r,i,a){var o=H.extend({},t),s={opacity:"In"===l?1:0};if(n!==r-1)o.complete=o.begin=null;else{var c=o.complete;o.complete=function(){c&&c.call(e,e),a&&a.resolver(i||e)}}null!==o.display&&(o.display=o.display||("In"===l?"auto":"none")),U.animate(this,s,o)}}),U}(c||window,window,document)});var Nanobar=function(){"use strict";var r,t,e,n,i,a,o={width:"100%",height:"4px",zIndex:9999,top:"0"},s={width:0,height:"100%",clear:"both",transition:"height .3s"};return r=function(e,t){var n;for(n in t)e.style[n]=t[n];e.style.float="left"},n=function(){var e=this,t=this.width-this.here;t<.1&&-.1<t?(i.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){e.cont.el.removeChild(e.el)},300))):(i.call(this,this.width-t/4),setTimeout(function(){e.go()},16))},i=function(e){this.width=e,this.el.style.width=this.width+"%"},a=function(){var e=new t(this);this.bars.unshift(e)},(t=function(e){this.el=document.createElement("div"),this.el.style.backgroundColor=e.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=e,r(this.el,s),e.el.appendChild(this.el)}).prototype.go=function(e){e?(this.here=e,this.moving||(this.moving=!0,n.call(this))):this.moving&&n.call(this)},(e=function(e){var t,n=this.opts=e||{};n.bg=n.bg||"#000",this.bars=[],t=this.el=document.createElement("div"),r(this.el,o),n.id&&(t.id=n.id),t.style.position=n.target?"relative":"fixed",n.target?n.target.insertBefore(t,n.target.firstChild):document.getElementsByTagName("body")[0].appendChild(t),a.call(this)}).prototype.go=function(e){this.bars[0].go(e),100==e&&a.call(this)},e}();!function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),i=window.setTimeout(function(){e(n+r)},r);return a=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var BlurbSlider={init:function(){$(".slideshow").skippr({autoPlay:!0,autoPlayDuration:4e3,navType:"bubble"})}},Mast={init:function(){requestAnimationFrame(Mast.track)},element:$(".mast"),track:function(){var e=$(document).scrollTop(),t=Mast.element.height();$(window).height()-t<e?Mast.element.addClass("below-fold"):Mast.element.removeClass("below-fold"),requestAnimationFrame(Mast.track)}},MobileMast={init:function(){requestAnimationFrame(MobileMast.track)},element:$(".mobile-mast"),track:function(){var e=$(document).scrollTop(),t=MobileMast.element.height();e<$(window).height()-t?MobileMast.element.addClass("above-fold"):MobileMast.element.removeClass("above-fold"),requestAnimationFrame(MobileMast.track)}},Squares={init:function(){Squares.squarify(),setTimeout(function(){Squares.init()},100)},squarify:function(){var e=$(".square");e.each(function(){var e=$(this).width();$(this).height(e)}),e=null}},PurchaseColumn={init:function(){1300<$(window).width()&&(this.parent=this.element.parent(),this.parentHeight=this.parent.height(),this.initialOffsetTop=this.element.offset().top,this.elementHeight=this.element.height(),requestAnimationFrame(PurchaseColumn.stick))},element:$(".product-column-right"),parent:null,parentHeight:null,initialOffsetTop:0,elementHeight:null,stick:function(){var e=$(document).scrollTop(),t=PurchaseColumn.initialOffsetTop,n=PurchaseColumn.elementHeight,r=PurchaseColumn.parentHeight,i=e-t+70;t-70<e&&e<t-70+(r-n)?PurchaseColumn.element.css("top",i+"px"):t-70+(r-n)<=e?PurchaseColumn.element.css("top",r-n+"px"):PurchaseColumn.element.css("top","0px"),requestAnimationFrame(PurchaseColumn.stick)}},PoleScroll={init:function(){var e=this;e.scrollPosition(),setTimeout(function(){e.scrollPosition()},1e3)},element:$(".scroller"),scrollPosition:function(){var e=$(".scroller"),t=$(window).width();"head"===layoutType||"bands"===slug||"cable-w-tip"===slug||"cable"===slug?t<1e3?e.scrollLeft($(".scroller-image.visible").width()-600):e.scrollLeft($(".scroller-image.visible").width()):"shrinker"===layoutType?1100<t?e.scrollLeft($(".scroller-image").width()-2900):t<1100&&500<t?e.scrollLeft($(".scroller-image").width()-2450):t<=500&&e.scrollLeft($(".scroller-image").width()-1780):"undefined"!=typeof slug&&"offshore-striker"===slug?1100<t?e.scrollLeft($(".scroller-image").width()-2500):t<1100&&500<t?e.scrollLeft($(".scroller-image").width()-2250):t<=500&&e.scrollLeft($(".scroller-image").width()-1580):("undefined"!=typeof slug&&"g-string"===slug||"black g-string"===slug)&&e.scrollLeft($(".scroller-image").width()-5300),e=null},scrollAcross:function(){var e=$(".scroller"),t=$(".scroller-image").width();e.scrollLeft()<t/2?e.stop().animate({scrollLeft:t},2500):e.stop().animate({scrollLeft:0},2500)},center:function(){$(".scroller").scrollLeft($(".scroller-image").width()-5300)}},ApparelRotator={init:function(e){var t;"niner-tshirt"===e?t=this.photos.niner:"superhero-tshirt"===e?t=this.photos.superhero:"comfort-hoody"===e&&(t=this.photos.comfort),$(".apparel-container").rollerblade({imageArray:t})},photos:{niner:[CONFIG.base+"/img/apparel/niner/niner-1.jpg",CONFIG.base+"/img/apparel/niner/niner-2.jpg",CONFIG.base+"/img/apparel/niner/niner-3.jpg",CONFIG.base+"/img/apparel/niner/niner-4.jpg",CONFIG.base+"/img/apparel/niner/niner-5.jpg",CONFIG.base+"/img/apparel/niner/niner-6.jpg",CONFIG.base+"/img/apparel/niner/niner-7.jpg",CONFIG.base+"/img/apparel/niner/niner-8.jpg"],superhero:[CONFIG.base+"/img/apparel/superhero/superhero-1.jpg",CONFIG.base+"/img/apparel/superhero/superhero-2.jpg",CONFIG.base+"/img/apparel/superhero/superhero-3.jpg",CONFIG.base+"/img/apparel/superhero/superhero-4.jpg",CONFIG.base+"/img/apparel/superhero/superhero-5.jpg",CONFIG.base+"/img/apparel/superhero/superhero-6.jpg",CONFIG.base+"/img/apparel/superhero/superhero-7.jpg",CONFIG.base+"/img/apparel/superhero/superhero-8.jpg"],comfort:[CONFIG.base+"/img/apparel/comfort/comfort-1.jpg",CONFIG.base+"/img/apparel/comfort/comfort-2.jpg",CONFIG.base+"/img/apparel/comfort/comfort-3.jpg",CONFIG.base+"/img/apparel/comfort/comfort-4.jpg",CONFIG.base+"/img/apparel/comfort/comfort-5.jpg",CONFIG.base+"/img/apparel/comfort/comfort-6.jpg",CONFIG.base+"/img/apparel/comfort/comfort-7.jpg",CONFIG.base+"/img/apparel/comfort/comfort-8.jpg"]}},Grid={init:function(){this.squarify(),this.rectanglify()},squarify:function(){$(".media-square").each(function(){var e=$(this).width();$(this).height(e)})},rectanglify:function(){$(".media-rectangle").each(function(){var e=$(this).width();$(this).height(1.5*e)})}};$(document).ready(function(){Squares.init(),"media"===currentRoute&&Grid.init(),"home"!==currentRoute&&"australia"!==currentRoute||(Mast.init(),MobileMast.init(),BlurbSlider.init()),"product.show"===currentRoute&&PurchaseColumn.init(),"apparel"===layoutType&&null!==slug&&ApparelRotator.init(slug),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if((e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:e.offset().top},400),!1}})});var Inputs={blur:function(){$("input").each(function(){$(this).blur()})}};$(document).ready(function(){$homeUrl=window.location.href.split("/#/"),"store"===$homeUrl[1]&&$('a[href="#store"]').click(),"contact"===$homeUrl[1]&&$('a[href="#contact"]').click(),setTimeout(function(){$("a.grouped_elements").fancyboxPlus()},500)}),$(window).resize(function(){Squares.init(),"media"===currentRoute&&Grid.init()}),angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(h){"use strict";function g(e){try{return decodeURIComponent(e)}catch(e){}}return function(){function r(e,t,n){var r,i,a,o,s,c,l,u,d,p=(n=n||{}).decode||g,f=n.encode||encodeURIComponent;if(void 0!==t)return t="object"==typeof t?JSON.stringify(t):String(t),"number"==typeof n.expires&&(d=n.expires,n.expires=new Date,-1===d?n.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==n.expirationUnit?"hours"===n.expirationUnit?n.expires.setHours(n.expires.getHours()+d):"minutes"===n.expirationUnit?n.expires.setMinutes(n.expires.getMinutes()+d):"seconds"===n.expirationUnit?n.expires.setSeconds(n.expires.getSeconds()+d):"milliseconds"===n.expirationUnit?n.expires.setMilliseconds(n.expires.getMilliseconds()+d):n.expires.setDate(n.expires.getDate()+d):n.expires.setDate(n.expires.getDate()+d)),h[0].cookie=[f(e),"=",f(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");for(i=[],(u=h[0].cookie)&&(i=u.split("; ")),l=!(r={}),a=0;a<i.length;++a)if(i[a]){if(s=(o=i[a]).indexOf("="),c=o.substring(0,s),t=p(o.substring(s+1)),angular.isUndefined(t))continue;if(void 0===e||e===c){try{r[c]=JSON.parse(t)}catch(e){r[c]=t}if(e===c)return r[c];l=!0}}return l&&void 0===e?r:void 0}return r.remove=function(e,t){var n=void 0!==r(e);return n&&(t||(t={}),t.expires=-1,r(e,"",t)),n},r}()}]),function(d,e){"use strict";var oe,se,ce,le,Q=1,ue="-add",de="-remove",pe="ng-",x="ng-animate",W="$$ngAnimateChildren";void 0===d.ontransitionend&&void 0!==d.onwebkittransitionend?("-webkit-",oe="WebkitTransition",se="webkitTransitionEnd transitionend"):(oe="transition",se="transitionend"),void 0===d.onanimationend&&void 0!==d.onwebkitanimationend?("-webkit-",ce="WebkitAnimation",le="webkitAnimationEnd animationend"):(ce="animation",le="animationend");var i="Duration",fe="Property",he="TimingFunction",a="PlayState",n=ce+"Delay",ge=ce+i,r=oe+"Delay",t=oe+i,o=e.$$minErr("ng");function p(e,t,n){if(!e)throw o("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function P(e,t){return e||t?e?t?(Ee(e)&&(e=e.join(" ")),Ee(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function me(e,n,r){var i="";return e=Ee(e)?e:e&&ne(e)&&e.length?e.split(/\s+/):[],Ve(e,function(e,t){e&&0<e.length&&(i+=0<t?" ":"",i+=r?n+e:e+n)}),i}function X(e){if(e instanceof ie)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===Q)return e;break;default:return ie(f(e))}if(e.nodeType===Q)return ie(e)}function f(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Q)return n}}function S(c){return function(e,t){var n,r,i,a,o,s;t.addClass&&(n=c,r=e,i=t.addClass,Ve(r,function(e){n.addClass(e,i)}),t.addClass=null),t.removeClass&&(a=c,o=e,s=t.removeClass,Ve(o,function(e){a.removeClass(e,s)}),t.removeClass=null)}}function ve(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||Fe;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=Fe},e.$$prepared=!0}return e}function ye(e,t){be(e,t),we(e,t)}function be(e,t){t.from&&(e.css(t.from),t.from=null)}function we(e,t){t.to&&(e.css(t.to),t.to=null)}function K(e,t,n){var r=t.options||{},i=n.options||{},a=(r.addClass||"")+" "+(i.addClass||""),o=(r.removeClass||"")+" "+(i.removeClass||""),s=function(i,e,t){var n={};i=r(i),e=r(e),Ve(e,function(e,t){n[t]=1}),t=r(t),Ve(t,function(e,t){n[t]=1===n[t]?null:-1});var a={addClass:"",removeClass:""};function r(e){ne(e)&&(e=e.split(" "));var t={};return Ve(e,function(e){e.length&&(t[e]=!0)}),t}return Ve(n,function(e,t){var n,r;1===e?(n="addClass",r=!i[t]||i[t+de]):-1===e&&(n="removeClass",r=i[t]||i[t+ue]),r&&(a[n].length&&(a[n]+=" "),a[n]+=t)}),a}(e.attr("class"),a,o);i.preparationClasses&&(r.preparationClasses=Z(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var c=r.domOperation!==Fe?r.domOperation:null;return h(r,i),c&&(r.domOperation=c),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function $e(e){return e instanceof ie?e[0]:e}function Ce(e,t){var n=t?"-"+t+"s":"";return Pe(e,[r,n]),[r,n]}function xe(e,t){var n=t?"paused":"",r=ce+a;return Pe(e,[r,n]),[r,n]}function Pe(e,t){var n=t[0],r=t[1];e.style[n]=r}function Z(e,t){return e?t?e+" "+t:e:t}var s=["$interpolate",function(a){return{link:function(e,t,n){var r=n.ngAnimateChildren;function i(e){e="on"===e||"true"===e,t.data(W,e)}ne(r)&&0===r.length?t.data(W,!0):(i(a(r)(e)),n.$observe("ngAnimateChildren",i))}}}],Se="$$animateCss",u={transitionDuration:t,transitionDelay:r,transitionProperty:oe+fe,animationDuration:ge,animationDelay:n,animationIterationCount:ce+"IterationCount"},ke={transitionDuration:t,transitionDelay:r,animationDuration:ge,animationDelay:n};function Te(e,t){return[t?n:r,e+"s"]}function Ae(e,t,n){var o=Object.create(null),s=e.getComputedStyle(t)||{};return Ve(n,function(e,t){var n,r,i=s[e];if(i){var a=i.charAt(0);("-"===a||"+"===a||0<=a)&&(n=0,r=i.split(/\s*,\s*/),Ve(r,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),i=n),0===i&&(i=null),o[t]=i}}),o}function Ie(e){return 0===e||null!=e}function Ne(e,t){var n=oe,r=e+"s";return t?n+=i:r+=" linear all",[n,r]}function c(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(e){var t=n[e];return t?t.total:0},get:function(e){var t=n[e];return t&&t.value},put:function(e,t){n[e]?n[e].total++:n[e]={total:1,value:t}}}}function De(t,n,e){Ve(e,function(e){t[e]=ee(t[e])?t[e]:n.style.getPropertyValue(e)})}var Oe,h,Ve,Ee,ee,g,$,te,ne,re,ie,Fe,l=["$animateProvider",function(e){var ie=c(),ae=c();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(J,Q,W,X,n,K,t,Z){var ee=S(Q),i=0;function te(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++i))+"-"+e.getAttribute("class")+"-"+t}var r=[];function ne(e){r.push(e),t.waitUntilQuiet(function(){ie.flush(),ae.flush();for(var e=n(),t=0;t<r.length;t++)r[t](e);r.length=0})}function re(e,t,n){var r,i,a,o,s=(r=e,i=n,a=u,(o=ie.get(i))||"infinite"===(o=Ae(J,r,a)).animationIterationCount&&(o.animationIterationCount=1),ie.put(i,o),o),c=s.animationDelay,l=s.transitionDelay;return s.maxDelay=c&&l?Math.max(c,l):c||l,s.maxDuration=Math.max(s.animationDuration*s.animationIterationCount,s.transitionDuration),s}return function(l,e){var u=e||{};u.$$prepared||(u=ve(Oe(u)));var d={},p=$e(l);if(!p||!p.parentNode||!Z.enabled())return U();var t,n,f,a,o,r,i,h,g,m,v,y,b=[],s=l.attr("class"),c=(n={},(t=u)&&(t.to||t.from)&&(n.to=t.to,n.from=t.from),n),w=[];if(0===u.duration||!K.animations&&!K.transitions)return U();var $=u.event&&Ee(u.event)?u.event.join(" "):u.event,C="",x="";$&&u.structural?C=me($,pe,!0):$&&(C=$),u.addClass&&(x+=me(u.addClass,ue)),u.removeClass&&(x.length&&(x+=" "),x+=me(u.removeClass,de)),u.applyClassesEarly&&x.length&&ee(l,u);var P,S,k,T=[C,x].join(" ").trim(),A=s+" "+T,I=me(T,"-active"),N=c.to&&0<Object.keys(c.to).length;if(!(0<(u.keyframeStyle||"").length)&&!N&&!T)return U();if(0<u.stagger){var D=parseFloat(u.stagger);S={transitionDelay:D,animationDelay:D,transitionDuration:0,animationDuration:0}}else P=te(p,A),S=function(e,t,n,r){var i;if(0<ie.count(n)&&!(i=ae.get(n))){var a=me(t,"-stagger");Q.addClass(e,a),(i=Ae(J,e,r)).animationDuration=Math.max(i.animationDuration,0),i.transitionDuration=Math.max(i.transitionDuration,0),Q.removeClass(e,a),ae.put(n,i)}return i||{}}(p,T,P,ke);if(u.$$skipPreparationClasses||Q.addClass(l,T),u.transitionStyle){var O=[oe,u.transitionStyle];Pe(p,O),b.push(O)}if(0<=u.duration){k=0<p.style[oe].length;var V=Ne(u.duration,k);Pe(p,V),b.push(V)}if(u.keyframeStyle){var E=[ce,u.keyframeStyle];Pe(p,E),b.push(E)}var F=S?0<=u.staggerIndex?u.staggerIndex:ie.count(P):0,M=0===F;M&&!u.skipBlocking&&Ce(p,9999);var q=re(p,0,P),j=q.maxDelay;h=Math.max(j,0),m=q.maxDuration;var R,z={};if(z.hasTransitions=0<q.transitionDuration,z.hasAnimations=0<q.animationDuration,z.hasTransitionAll=z.hasTransitions&&"all"===q.transitionProperty,z.applyTransitionDuration=N&&(z.hasTransitions&&!z.hasTransitionAll||z.hasAnimations&&!z.hasTransitions),z.applyAnimationDuration=u.duration&&z.hasAnimations,z.applyTransitionDelay=Ie(u.delay)&&(z.applyTransitionDuration||z.hasTransitions),z.applyAnimationDelay=Ie(u.delay)&&z.hasAnimations,z.recalculateTimingStyles=0<x.length,(z.applyTransitionDuration||z.applyAnimationDuration)&&(m=u.duration?parseFloat(u.duration):m,z.applyTransitionDuration&&(z.hasTransitions=!0,q.transitionDuration=m,k=0<p.style[oe+fe].length,b.push(Ne(m,k))),z.applyAnimationDuration&&(z.hasAnimations=!0,q.animationDuration=m,b.push([ge,m+"s"]))),0===m&&!z.recalculateTimingStyles)return U();null!=u.delay&&("boolean"!=typeof u.delay&&(R=parseFloat(u.delay),h=Math.max(R,0)),z.applyTransitionDelay&&b.push(Te(R)),z.applyAnimationDelay&&b.push(Te(R,!0)));return null==u.duration&&0<q.transitionDuration&&(z.recalculateTimingStyles=z.recalculateTimingStyles||M),g=1e3*h,v=1e3*m,u.skipBlocking||(z.blockTransition=0<q.transitionDuration,z.blockKeyframeAnimation=0<q.animationDuration&&0<S.animationDelay&&0===S.animationDuration),u.from&&(u.cleanupStyles&&De(d,p,Object.keys(u.from)),be(l,u)),z.blockTransition||z.blockKeyframeAnimation?B(m):u.skipBlocking||Ce(p,!1),{$$willAnimate:!0,end:L,start:function(){if(!f)return r=new W(i={end:L,cancel:_,resume:null,pause:null}),ne(Y),r}};function L(){H()}function _(){H(!0)}function H(e){if(!(f||o&&a)){a=!(f=!0),u.$$skipPreparationClasses||Q.removeClass(l,T),Q.removeClass(l,I),xe(p,!1),Ce(p,!1),Ve(b,function(e){p.style[e[0]]=""}),ee(l,u),ye(l,u),Object.keys(d).length&&Ve(d,function(e,t){e?p.style.setProperty(t,e):p.style.removeProperty(t)}),u.onDone&&u.onDone(),w&&w.length&&l.off(w.join(" "),G);var t=l.data(Se);t&&(X.cancel(t[0].timer),l.removeData(Se)),r&&r.complete(!e)}}function B(e){z.blockTransition&&Ce(p,e),z.blockKeyframeAnimation&&xe(p,!!e)}function U(){return r=new W({end:L,cancel:_}),ne(Fe),H(),{$$willAnimate:!1,start:function(){return r},end:L}}function G(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===p){var n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-y,0)>=g&&m<=r&&(o=!0,H())}}function Y(){if(!f)if(p.parentNode){var e=function(e){if(o)a&&e&&(a=!1,H());else if(a=!e,q.animationDuration){var t=xe(p,a);a?b.push(t):(r=t,i=(n=b).indexOf(r),0<=r&&n.splice(i,1))}var n,r,i},t=0<F&&(q.transitionDuration&&0===S.transitionDuration||q.animationDuration&&0===S.animationDuration)&&Math.max(S.animationDelay,S.transitionDelay);t?X(n,Math.floor(t*F*1e3),!1):n(),i.resume=function(){e(!0)},i.pause=function(){e(!1)}}else H();function n(){if(!f){if(B(!1),Ve(b,function(e){var t=e[0],n=e[1];p.style[t]=n}),ee(l,u),Q.addClass(l,I),z.recalculateTimingStyles){if(A=p.getAttribute("class")+" "+T,P=te(p,A),q=re(p,0,P),j=q.maxDelay,h=Math.max(j,0),0===(m=q.maxDuration))return void H();z.hasTransitions=0<q.transitionDuration,z.hasAnimations=0<q.animationDuration}if(z.applyAnimationDelay&&(j="boolean"!=typeof u.delay&&Ie(u.delay)?parseFloat(u.delay):j,h=Math.max(j,0),q.animationDelay=j,R=Te(j,!0),b.push(R),p.style[R[0]]=R[1]),g=1e3*h,v=1e3*m,u.easing){var e,t=u.easing;z.hasTransitions&&(e=oe+he,b.push([e,t]),p.style[e]=t),z.hasAnimations&&(e=ce+he,b.push([e,t]),p.style[e]=t)}q.transitionDuration&&w.push(se),q.animationDuration&&w.push(le),y=Date.now();var n=g+1.5*v,r=y+n,i=l.data(Se)||[],a=!0;if(i.length){var o=i[0];(a=r>o.expectedEndTime)?X.cancel(o.timer):i.push(H)}if(a){var s=X(c,n,!1);i[0]={timer:s,expectedEndTime:r},i.push(H),l.data(Se,i)}w.length&&l.on(w.join(" "),G),u.to&&(u.cleanupStyles&&De(d,p,Object.keys(u.to)),we(l,u))}}function c(){var e=l.data(Se);if(e){for(var t=1;t<e.length;t++)e[t]();l.removeData(Se)}}}}}]}],m=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var b="ng-animate-shim",w="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(f,e,h,t,n,r,i){if(!n.animations&&!n.transitions)return Fe;var a,g=i[0].body,o=$e(t),m=ie((a=o).parentNode&&11===a.parentNode.nodeType||g.contains(o)?o:g);return function(e){return e.from&&e.to?function(e,t,n,r){var i=s(e),a=s(t),o=[];if(Ve(r,function(e){var t=function(e,t,i){var a=ie($e(t).cloneNode(!0)),o=v(u(a));t.addClass(b),i.addClass(b),a.addClass("ng-anchor"),m.append(a);var r,n,s=(n=f(a,{addClass:w,delay:!0,from:l(t)})).$$willAnimate?n:null;if(!s&&!(r=d()))return p();var c=s||r;return{start:function(){var e,t=c.start();return t.done(function(){if(t=null,!r&&(r=d()))return(t=r.start()).done(function(){t=null,p(),e.complete()}),t;p(),e.complete()}),e=new h({end:n,cancel:n});function n(){t&&t.end()}}};function l(e){var n={},r=$e(e).getBoundingClientRect();return Ve(["width","height","top","left"],function(e){var t=r[e];switch(e){case"top":t+=g.scrollTop;break;case"left":t+=g.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function u(e){return e.attr("class")||""}function d(){var e=v(u(i)),t=y(e,o),n=y(o,e),r=f(a,{to:l(i),addClass:"ng-anchor-in "+t,removeClass:w+" "+n,delay:!0});return r.$$willAnimate?r:null}function p(){a.remove(),t.removeClass(b),i.removeClass(b)}}(0,e.out,e.in);t&&o.push(t)}),!i&&!a&&0===o.length)return;return{start:function(){var t=[];i&&t.push(i.start()),a&&t.push(a.start()),Ve(o,function(e){t.push(e.start())});var n=new h({end:e,cancel:e});return h.all(t,function(e){n.complete(e)}),n;function e(){Ve(t,function(e){e.end()})}}}}(e.from,e.to,e.classes,e.anchors):s(e)};function v(e){return e.replace(/\bng-\S+\b/g,"")}function y(e,t){return ne(e)&&(e=e.split(" ")),ne(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function s(e){var t=e.element,n=e.options||{};e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=Z(n.event,n.preparationClasses));var r=f(t,n);return r.$$willAnimate?r:null}}]}],v=["$animateProvider",function(w){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,e){var b=S(e);return function(e,t,n,r){var i=!1;3===arguments.length&&te(n)&&(r=n,n=null),r=ve(r),n||(n=e.attr("class")||"",r.addClass&&(n+=" "+r.addClass),r.removeClass&&(n+=" "+r.removeClass));var a,o,s,c,l,u=r.addClass,d=r.removeClass,p=function(e){e=Ee(e)?e:e.split(" ");for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],a=w.$$registeredAnimations[i];a&&!n[i]&&(t.push(v.get(a)),n[i]=!0)}return t}(n);p.length&&("leave"===t?(c="leave",s="afterLeave"):(c="before"+t.charAt(0).toUpperCase()+t.substr(1),s=t),"enter"!==t&&"move"!==t&&(a=m(e,t,r,p,c)),o=m(e,t,r,p,s));if(a||o)return{$$willAnimate:!0,end:function(){return l?l.end():(h(),(l=new y).complete(!0)),l},start:function(){if(l)return l;var t;l=new y;var e=[];return a&&e.push(function(e){t=a(e)}),e.length?e.push(function(e){f(),e(!0)}):f(),o&&e.push(function(e){t=o(e)}),l.setHost({end:function(){r()},cancel:function(){r(!0)}}),y.chain(e,n),l;function n(e){h(),l.complete(e)}function r(e){i||((t||Fe)(e),n(e))}}};function f(){r.domOperation(),b(e,r)}function h(){i=!0,f(),ye(e,r)}function g(o,s,c,e,t){var n=[];return Ve(e,function(e){var a=e[t];a&&n.push(function(){var t,n,r=!1,i=function(e){r||(r=!0,(n||Fe)(e),t.complete(!e))};return t=new y({end:function(){i()},cancel:function(){i(!0)}}),n=function(e,t,n,r,i){var a;switch(n){case"animate":a=[t,r.from,r.to,i];break;case"setClass":a=[t,u,d,i];break;case"addClass":a=[t,u,i];break;case"removeClass":a=[t,d,i];break;default:a=[t,i]}a.push(r);var o=e.apply(e,a);if(o)if($(o.start)&&(o=o.start()),o instanceof y)o.done(i);else if($(o))return o;return Fe}(a,o,s,c,function(e){i(!1===e)}),t})}),n}function m(e,t,n,r,i){var a,o,s=g(e,t,n,r,i);0===s.length&&("beforeSetClass"===i?(a=g(e,"removeClass",n,r,"beforeRemoveClass"),o=g(e,"addClass",n,r,"beforeAddClass")):"setClass"===i&&(a=g(e,"removeClass",n,r,"removeClass"),o=g(e,"addClass",n,r,"addClass")),a&&(s=s.concat(a)),o&&(s=s.concat(o)));if(0!==s.length)return function(e){var n=[];return s.length&&Ve(s,function(e){n.push(e())}),n.length?y.all(n,e):e(),function(t){Ve(n,function(e){t?e.cancel():e.end()})}}}}}]}],y=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,o){return function(e){if(e.from&&e.to){var r=t(e.from),i=t(e.to);if(!r&&!i)return;return{start:function(){var e=[];r&&e.push(r.start()),i&&e.push(i.start()),o.all(e,function(e){t.complete(e)});var t=new o({end:n(),cancel:n()});return t;function n(){return function(){Ve(e,function(e){e.end()})}}}}}return t(e)};function t(e){var t=e.element,n=e.event,r=e.options,i=e.classes;return a(t,n,i,r)}}]}],ae="data-ng-animate",Me="$ngAnimatePin",b=["$animateProvider",function(u){var r=" ",i=this.rules={skip:[],cancel:[],join:[]};function o(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(r),n=Object.create(null);return Ve(t,function(e){n[e]=!0}),n}(t);return e.split(r).some(function(e){return n[e]})}}function Y(e,t,n){return i[e].some(function(e){return e(t,n)})}function J(e,t){var n=0<(e.addClass||"").length,r=0<(e.removeClass||"").length;return t?n&&r:n||r}i.join.push(function(e,t){return!e.structural&&J(e)}),i.skip.push(function(e,t){return!e.structural&&!J(e)}),i.skip.push(function(e,t){return"leave"===t.event&&e.structural}),i.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),i.cancel.push(function(e,t){return t.structural&&e.structural}),i.cancel.push(function(e,t){return 2===t.state&&e.structural}),i.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,i=t.addClass,a=t.removeClass;return!(re(n)&&re(r)||re(i)&&re(a))&&(o(n,a)||o(r,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(A,I,N,D,e,O,V,t,n,r,E){var F=new e,M=new e,q=null;var i=I.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(i(),I.$$postDigest(function(){I.$$postDigest(function(){null===q&&(q=!0)})}))}),j=Object.create(null),a=u.customFilter(),o=u.classNameFilter(),s=function(){return!0},R=a||s,z=o?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return o.test(n)}:s,L=S(n);function _(e,t){return K(e,t,{})}var H=d.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function c(e,t,n){var r=f(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function B(e,t){"close"!==e||t.parentNode||l.off(t)}var l={on:function(e,t,n){var r=f(t);j[e]=j[e]||[],j[e].push({node:r,callback:n}),ie(t).on("$destroy",function(){F.get(r)||l.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||ne(e)){var r=j[e];r&&(j[e]=1===arguments.length?null:c(r,t,n))}else for(var i in t=e,j)j[i]=c(j[i],t)},pin:function(e,t){p(g(e),"element","not an element"),p(g(t),"parentElement","not an element"),e.data(Me,t)},push:function(e,t,n,r){return(n=n||{}).domOperation=r,function(i,a,e){var o=Oe(e),l=X(i),u=$e(l),d=u&&u.parentNode;o=ve(o);var s=new V,t=(n=!1,function(e){n?e():I.$$postDigest(function(){n=!0,e()})});var n;Ee(o.addClass)&&(o.addClass=o.addClass.join(" "));o.addClass&&!ne(o.addClass)&&(o.addClass=null);Ee(o.removeClass)&&(o.removeClass=o.removeClass.join(" "));o.removeClass&&!ne(o.removeClass)&&(o.removeClass=null);o.from&&!te(o.from)&&(o.from=null);o.to&&!te(o.to)&&(o.to=null);if(!(q&&u&&R(u,a,e)&&z(u,o)))return T(),s;var c=0<=["enter","move","leave"].indexOf(a),r=E(),p=r||M.get(u),f=!p&&F.get(u)||{},h=!!f.state;p||h&&1===f.state||(p=!function(e,t,n){var r,i=D[0].body,a=$e(N),o=e===i||"HTML"===e.nodeName,s=e===a,c=!1,l=M.get(e),u=ie.data(e,Me);u&&(t=$e(u));for(;t&&(s||(s=t===a),t.nodeType===Q);){var d=F.get(t)||{};if(!c){var p=M.get(t);if(!0===p&&!1!==l){l=!0;break}!1===p&&(l=!1),c=d.structural}if(re(r)||!0===r){var f=ie.data(t,W);ee(f)&&(r=f)}if(c&&!1===r)break;if(o||(o=t===i),o&&s)break;t=s||!(u=ie.data(t,Me))?t.parentNode:$e(u)}return(!c||r)&&!0!==l&&s&&o}(u,d));if(p)return r&&k(s,a,"start"),T(),r&&k(s,a,"close"),s;c&&(g=u.querySelectorAll("["+ae+"]"),Ve(g,function(e){var t=parseInt(e.getAttribute(ae),10),n=F.get(e);if(n)switch(t){case 2:n.runner.end();case 1:F.delete(e)}}));var g;var m={structural:c,element:l,event:a,addClass:o.addClass,removeClass:o.removeClass,close:T,options:o,runner:s};if(h){var v=Y("skip",m,f);if(v)return 2===f.state?(T(),s):(K(l,f,m),f.runner);var y=Y("cancel",m,f);if(y)if(2===f.state)f.runner.end();else{if(!f.structural)return K(l,f,m),f.runner;f.close()}else{var b=Y("join",m,f);if(b){if(2!==f.state)return w=l,C=o,x="",($=c?a:null)&&(x=me($,pe,!0)),C.addClass&&(x=Z(x,me(C.addClass,ue))),C.removeClass&&(x=Z(x,me(C.removeClass,de))),x.length&&(C.preparationClasses=x,w.addClass(x)),a=m.event=f.event,o=K(l,f,m),f.runner;_(l,m)}}}else _(l,m);var w,$,C,x;var P=m.structural;P||(P="animate"===m.event&&0<Object.keys(m.options.to||{}).length||J(m));if(!P)return T(),U(u),s;var S=(f.counter||0)+1;return m.counter=S,G(u,1,m),I.$$postDigest(function(){l=X(i);var e=F.get(u),t=!e;e=e||{};var n=0<(l.parent()||[]).length&&("animate"===e.event||e.structural||J(e));if(t||e.counter!==S||!n)return t&&(L(l,o),ye(l,o)),(t||c&&e.event!==a)&&(o.domOperation(),s.end()),void(n||U(u));a=!e.structural&&J(e,!0)?"setClass":e.event,G(u,2);var r=O(l,a,e.options);s.setHost(r),k(s,a,"start",{}),r.done(function(e){T(!e);var t=F.get(u);t&&t.counter===S&&U(u),k(s,a,"close",{})})}),s;function k(e,o,s,c){t(function(){var t,n,r,i,e,a=(t=d,n=u,i=[],(e=j[r=o])&&Ve(e,function(e){H.call(e.node,n)?i.push(e.callback):"leave"===r&&H.call(e.node,t)&&i.push(e.callback)}),i);a.length?A(function(){Ve(a,function(e){e(l,s,c)}),B(s,u)}):B(s,u)}),e.progress(o,s,c)}function T(e){var t,n;t=l,(n=o).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),L(l,o),ye(l,o),o.domOperation(),s.complete(!e)}}(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!q;else if(g(e)){var r=$e(e);1===n?t=!M.get(r):M.set(r,!t)}else t=q=!!e;return t}};return l;function U(e){e.removeAttribute(ae),F.delete(e)}function G(e,t,n){(n=n||{}).state=t,e.setAttribute(ae,t);var r=F.get(e),i=r?h(r,n):n;F.set(e,i)}}]}],w=["$animateProvider",function(e){var b="ng-animate-ref",w=this.drivers=[],$="$$animationRunner";function C(e){return e.data($)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(d,p,f,h,g,m){var v=[],y=S(d);return function(t,n,r){r=ve(r);var e,i=0<=["enter","move","leave"].indexOf(n),a=new h({end:function(){u()},cancel:function(){u(!0)}});if(!w.length)return u(),a;e=a,t.data($,e);var o,s=P(t.attr("class"),P(r.addClass,r.removeClass)),c=r.tempClasses;return c&&(s+=" "+c,r.tempClasses=null),i&&(o="ng-"+n+"-prepare",d.addClass(t,o)),v.push({element:t,classes:s,event:n,structural:i,options:r,beforeStart:function(){t.addClass(x),c&&d.addClass(t,c);o&&(d.removeClass(t,o),o=null)},close:u}),t.on("$destroy",l),1<v.length||p.$$postDigest(function(){var t=[];Ve(v,function(e){C(e.element)?t.push(e):e.close()}),v.length=0;var e=function(u){var d=[],p={};Ve(u,function(e,n){var t,r,i,a=e.element,o=$e(a),s=e.event,c=0<=["enter","move"].indexOf(s),l=e.structural?(r=(t=o).hasAttribute(b)?[t]:t.querySelectorAll("[ng-animate-ref]"),i=[],Ve(r,function(e){var t=e.getAttribute(b);t&&t.length&&i.push(e)}),i):[];if(l.length){var u=c?"to":"from";Ve(l,function(e){var t=e.getAttribute(b);p[t]=p[t]||{},p[t][u]={animationID:n,element:ie(e)}})}else d.push(e)});var f={},h={};return Ve(p,function(e,t){var n=e.from,r=e.to;if(n&&r){var i=u[n.animationID],a=u[r.animationID],o=n.animationID.toString();if(!h[o]){var s=h[o]={structural:!0,beforeStart:function(){i.beforeStart(),a.beforeStart()},close:function(){i.close(),a.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var a=0;a<t.length;a++)if(i===t[a]){n.push(i);break}}return n.join(" ")}(i.classes,a.classes),from:i,to:a,anchors:[]};s.classes.length?d.push(s):(d.push(i),d.push(a))}h[o].anchors.push({out:n.element,in:r.element})}else{var c=n?n.animationID:r.animationID,l=c.toString();f[l]||(f[l]=!0,d.push(u[c]))}}),d}(t),n=[];Ve(e,function(i){n.push({domNode:$e(i.from?i.from.element:i.element),fn:function(){i.beforeStart();var e,t=i.close;if(C(i.anchors?i.from.element||i.to.element:i.element)){var n=function(e){for(var t=w.length-1;0<=t;t--){var n=w[t],r=f.get(n),i=r(e);if(i)return i}}(i);n&&(e=n.start)}if(e){var r=e();r.done(function(e){t(!e)}),function(e,n){e.from&&e.to?(t(e.from.element),t(e.to.element)):t(e.element);function t(e){var t=C(e);t&&t.setHost(n)}}(i,r)}else t()}})}),m(function(e){var t,i={children:[]},a=new g;for(t=0;t<e.length;t++){var n=e[t];a.set(n.domNode,e[t]={domNode:n.domNode,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)o(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,a=0,o=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(e){a++,r.push(e)}),i--}return o.length&&n.push(o),n}(i);function o(e){if(e.processed)return e;e.processed=!0;var t,n=e.domNode,r=n.parentNode;for(a.set(n,e);r;){if(t=a.get(r)){t.processed||(t=o(t));break}r=r.parentNode}return(t||i).children.push(e),e}}(n))}),a;function l(){var e=C(t);!e||"leave"===n&&r.$$domOperationFired||e.end()}function u(e){t.off("$destroy",l),t.removeData($),y(t,r),ye(t,r),r.domOperation(),c&&d.removeClass(t,c),t.removeClass(x),a.complete(!e)}}}]}];e.module("ngAnimate",[],function(){Fe=e.noop,Oe=e.copy,h=e.extend,ie=e.element,Ve=e.forEach,Ee=e.isArray,ne=e.isString,te=e.isObject,re=e.isUndefined,ee=e.isDefined,$=e.isFunction,g=e.isElement}).info({angularVersion:"1.7.2"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,r,i){var a,o;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){a&&s.leave(a),o&&(o.$destroy(),o=null),(e||0===e)&&i(function(e,t){a=e,o=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var r,i;function e(e){r=r.concat(e),a()}return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=n(function(){i=null,e(),a()})},e;function a(){if(r.length){for(var e=r.shift(),t=0;t<e.length;t++)e[t]();i||n(function(){i||a()})}}}]).provider("$$animateQueue",b).provider("$$animation",w).provider("$animateCss",l).provider("$$animateCssDriver",m).provider("$$animateJs",v).provider("$$animateJsDriver",y)}(window,window.angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.angularStripe=e()}}(function(){return function a(o,s,c){function l(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return l(t||e)},i,i.exports,a,o,s,c)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(t,n,e){(function(e){"use strict";n.exports=("undefined"!=typeof window?window.angular:void 0!==e?e.angular:null).module("angular-stripe",[]).provider("stripe",t("./provider")).name}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./provider":2}],2:[function(n,r,e){(function(e){"use strict";var t="undefined"!=typeof window?window.Stripe:void 0!==e?e.Stripe:null;r.exports=function(){this.setPublishableKey=t.setPublishableKey,this.$get=n("./service")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./service":3}],3:[function(e,t,n){(function(e){"use strict";var o="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,a="undefined"!=typeof window?window.Stripe:void 0!==e?e.Stripe:null;t.exports=function(r){return e={card:{reference:["validateCardNumber","validateExpiry","validateCVC","cardType"],promisify:["createToken"]},bankAccount:{reference:["validateRoutingNumber","validateAccountNumber"],promisify:["createToken"]}},i={setPublishableKey:a.setPublishableKey},o.forEach(e,function(e,t){var n=i[t]={};t=a[t],o.forEach(e.promisify,function(e){var i,a;n[e]=(i=t,a=e,function(e,t){if("function"==typeof t)throw new Error('"params" cannot be a function');return r(function(n,r){i[a](e,t,function(e,t){return t.error?r(o.extend(new Error,t.error)):n(t)})})})}),o.forEach(e.reference,function(e){n[e]=t[e]})}),i;var e,i},t.exports.$inject=["$q"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(e,x,t){"use strict";var n=x.module("ngTouch",[]);function r(l,u,d){n.directive(l,["$parse","$swipe",function(s,c){return function(n,r,e){var i,a,o=s(e[l]);var t=["touch"];x.isDefined(e.ngSwipeDisableMouse)||t.push("mouse"),c.bind(r,{start:function(e,t){i=e,a=!0},cancel:function(e){a=!1},end:function(e,t){(function(e){if(!i)return!1;var t=Math.abs(e.y-i.y),n=(e.x-i.x)*u;return a&&t<75&&0<n&&30<n&&t/n<.3})(e)&&n.$apply(function(){r.triggerHandler(d),o(n,{$event:t})})}},t)}}])}n.factory("$swipe",[function(){var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function l(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function u(e,n){var r=[];return x.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}return{bind:function(e,n,t){var r,i,a,o,s=!1;t=t||["mouse","touch"],e.on(u(t,"start"),function(e){a=l(e),s=!0,i=r=0,o=a,n.start&&n.start(a,e)});var c=u(t,"cancel");c&&e.on(c,function(e){s=!1,n.cancel&&n.cancel(e)}),e.on(u(t,"move"),function(e){if(s&&a){var t=l(e);if(r+=Math.abs(t.x-o.x),i+=Math.abs(t.y-o.y),o=t,!(r<10&&i<10))return r<i?(s=!1,void(n.cancel&&n.cancel(e))):(e.preventDefault(),void(n.move&&n.move(t,e)))}}),e.on(u(t,"end"),function(e){s&&(s=!1,n.end&&n.end(l(e),e))})}}}]),n.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),n.directive("ngClick",["$parse","$timeout","$rootElement",function(e,i,v){var y,b,a,o=2500,c=25,s="ng-click-active";function w(e,t,n){for(var r=0;r<e.length;r+=2)if(i=e[r],a=e[r+1],o=t,s=n,Math.abs(i-o)<c&&Math.abs(a-s)<c)return e.splice(r,r+2),!0;var i,a,o,s;return!1}function $(e){if(!(Date.now()-y>o)){var t,n=e.touches&&e.touches.length?e.touches:[e],r=n[0].clientX,i=n[0].clientY;if(!(r<1&&i<1))if(!a||a[0]!==r||a[1]!==i)a&&(a=null),"label"===(t=e.target,x.lowercase(t.nodeName||t[0]&&t[0].nodeName))&&(a=[r,i]),w(b,r,i)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}function C(e){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;b.push(n,r),i(function(){for(var e=0;e<b.length;e+=2)if(b[e]==n&&b[e+1]==r)return void b.splice(e,e+2)},o,!1)}return function(n,l,u){var d,p,f,h,r=e(u.ngClick),g=!1;function m(){g=!1,l.removeClass(s)}l.on("touchstart",function(e){g=!0,3==(d=e.target?e.target:e.srcElement).nodeType&&(d=d.parentNode),l.addClass(s),p=Date.now();var t=e.originalEvent||e,n=(t.touches&&t.touches.length?t.touches:[t])[0];f=n.clientX,h=n.clientY}),l.on("touchmove",function(e){m()}),l.on("touchcancel",function(e){m()}),l.on("touchend",function(e){var t,n,r=Date.now()-p,i=e.originalEvent||e,a=(i.changedTouches&&i.changedTouches.length?i.changedTouches:i.touches&&i.touches.length?i.touches:[i])[0],o=a.clientX,s=a.clientY,c=Math.sqrt(Math.pow(o-f,2)+Math.pow(s-h,2));g&&r<750&&c<12&&(t=o,n=s,b||(v[0].addEventListener("click",$,!0),v[0].addEventListener("touchstart",C,!0),b=[]),y=Date.now(),w(b,t,n),d&&d.blur(),x.isDefined(u.disabled)&&!1!==u.disabled||l.triggerHandler("click",[e])),m()}),l.onclick=function(e){},l.on("click",function(e,t){n.$apply(function(){r(n,{$event:t||e})})}),l.on("mousedown",function(e){l.addClass(s)}),l.on("mousemove mouseup",function(e){l.removeClass(s)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).angularCreditCards=e()}}(function(){return function a(o,s,c){function l(n,e){if(!s[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return l(t||e)},i,i.exports,a,o,s,c)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){function r(n,r){return function(){var e=[].slice.call(arguments),t=n.slice();return t.push.apply(t,e),r.apply(this,t)}}function i(t,n){return function(){var e=[].slice.call(arguments);return e.push.apply(e,t),n.apply(this,e)}}function a(e){return r([].slice.call(arguments,1),e)}function o(e){return i([].slice.call(arguments,1),e)}(n=t.exports=r).pa=i,n.apa=function(e,t,n){return function(){return n.apply(this,e.concat.apply(e,arguments).concat(t))}},n.partial=a,n.partialRight=o,n.curry=function(e){return a(a,e)},n.curryRight=function(e){return a(o,e)}},{}],2:[function(e,t,n){var r=e("sentence-case");t.exports=function(e){return r(e).replace(/\./g,"_").replace(/ (\w)/g,function(e,t){return t.toUpperCase()})}},{"sentence-case":3}],3:[function(e,t,n){t.exports=function(e){return String(e).replace(/([a-z])([A-Z0-9])/g,"$1 $2").replace(/[^a-zA-Z0-9]+/g,".").replace(/(?!\d\.\d)(^|.)\./g,"$1 ").replace(/^ | $/g,"").toLowerCase()}},{}],4:[function(e,t,n){t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}},{}],5:[function(e,t,n){"use strict";n.types=e("./types")},{"./types":7}],6:[function(e,t,n){"use strict";var r=e("xtend/mutable");function i(e,t){r(this,{name:e},t)}function a(e){return e}i.prototype.cvcLength=3,i.prototype.luhn=!0,i.prototype.groupPattern=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,i.prototype.group=function(e){return(e.match(this.groupPattern)||[]).slice(1).filter(a)},i.prototype.test=function(e,t){return this[t?"eagerPattern":"pattern"].test(e)},t.exports=i},{"xtend/mutable":4}],7:[function(e,t,n){"use strict";var r=e("./type"),i=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/;n.visa=new r("Visa",{pattern:/^4\d{12}(\d{3})?$/,eagerPattern:/^4/}),n.maestro=new r("Maestro",{pattern:/^(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15}$/,eagerPattern:/^(5(018|0[23]|[68])|6[37])/,groupPattern:i}),n.forbrugsforeningen=new r("Forbrugsforeningen",{pattern:/^600722\d{10}$/,eagerPattern:/^600/}),n.dankort=new r("Dankort",{pattern:/^5019\d{12}$/,eagerPattern:/^5019/}),n.masterCard=new r("MasterCard",{pattern:/^5[1-5]\d{14}$/,eagerPattern:/^5[1-5]/}),n.americanExpress=new r("American Express",{pattern:/^3[47]\d{13}$/,eagerPattern:/^3[47]/,groupPattern:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,cvcLength:4}),n.dinersClub=new r("Diners Club",{pattern:/^3(0[0-5]|[68]\d)\d{11}$/,eagerPattern:/^3(0|[68])/,groupPattern:/(\d{1,4})?(\d{1,6})?(\d{1,4})?/}),n.discover=new r("Discover",{pattern:/^6(011|[45]\d{2})\d{12}$/,eagerPattern:/^6([45]|01)/}),n.jcb=new r("JCB",{pattern:/^35\d{14}$/,eagerPattern:/^35/}),n.unionPay=new r("UnionPay",{pattern:/^62[0-5]\d{13,16}$/,eagerPattern:/^62/,groupPattern:i,luhn:!1})},{"./type":6}],8:[function(e,t,n){"use strict";var a;t.exports=(a=[0,2,4,6,8,1,3,5,7,9],function(e){if(!e)return!1;for(var t,n=e.length,r=1,i=0;n;)t=parseInt(e.charAt(--n),10),i+=(r^=1)?a[t]:t;return!!i&&i%10==0})},{}],9:[function(e,t,r){"use strict";var n=e("camel-case"),i=e("fast-luhn");function a(e,t){for(var n in r.types){if(r.types[n].test(e,t))return r.types[n]}}r.types=e("creditcards-types").types,r.parse=function(e){return"string"!=typeof e?"":e.replace(/[^\d]/g,"")},r.format=function(e,t){var n=a(e,!0);return n?n.group(e).join(t||" "):e},r.type=function(e,t){var n=a(e,t);return n?n.name:void 0},r.luhn=i,r.isValid=function(e,t){return t||(t=r.type(e)),!!(t=r.types[n(t)])&&((!t.luhn||i(e))&&t.test(e))}},{"camel-case":2,"creditcards-types":5,"fast-luhn":8}],10:[function(e,t,n){"use strict";var r=e("camel-case"),i=e("./card"),a=/^\d{3,4}$/;n.isValid=function(e,t){return"string"==typeof e&&(!!a.test(e)&&(!t||i.types[r(t)].cvcLength===e.length))}},{"./card":9,"camel-case":2}],11:[function(e,t,n){"use strict";n.isPast=function(e,t){return Date.now()>=new Date(t,e)},n.month={parse:function(e){return~~e||void 0},isValid:function(e){return"number"==typeof e&&(1<=e&&e<=12)}};var r=(new Date).getFullYear().toString().substr(0,2);n.year={parse:function(e,t){return e=~~e,t?~~(r+(10<=(n=e)?n:"0"+n)):e||void 0;var n},format:function(e,t){return e=e.toString(),t?e.substr(2,4):e},isValid:function(e){return"number"==typeof e&&0<e},isPast:function(e){return(new Date).getFullYear()>e}}},{}],12:[function(e,t,n){"use strict";var r=n.card=e("./card"),i=n.cvc=e("./cvc"),a=n.expiration=e("./expiration");n.validate=function(e){return{card:{type:r.type(e.number),number:e.number,expirationMonth:e.expirationMonth,expirationYear:e.expirationYear,cvc:e.cvc},validCardNumber:r.luhn(e.number),validExpirationMonth:a.month.isValid(e.expirationMonth),validExpirationYear:a.year.isValid(e.expirationYear),validCvc:i.isValid(e.cvc),expired:a.isPast(e.expirationMonth,e.expirationYear)}}},{"./card":9,"./cvc":10,"./expiration":11}],13:[function(e,t,n){var c=Array.prototype.slice,l=Object.prototype.toString;t.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==l.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=c.call(arguments,1),e=Math.max(0,n.length-r.length),i=[],a=0;a<e;a++)i.push("$"+a);var o=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var e=n.apply(this,r.concat(c.call(arguments)));return Object(e)===e?e:this}return n.apply(t,r.concat(c.call(arguments)))});if(n.prototype){var s=function(){};s.prototype=n.prototype,o.prototype=new s,s.prototype=null}return o}},{}],14:[function(e,t,n){"use strict";var a=e("creditcards").cvc,o=e("function-bind");function r(i){return{restrict:"A",require:"ngModel",compile:function(e,t){return t.$set("maxlength",4),t.$set("pattern","[0-9]*"),t.$set("xAutocompletetype","cc-csc"),function(t,e,n,r){r.$validators.ccCvc=function(e){return a.isValid(e,i(n.ccType)(t))},n.ccType&&t.$watch(n.ccType,o.call(r.$validate,r))}}}}(t.exports=r).$inject=["$parse"]},{creditcards:12,"function-bind":13}],15:[function(e,t,n){"use strict";var o=e("creditcards").expiration,a=o.month,s=o.year,c=e("ap");function r(e,i){var t={$setValidity:u},a=i.inheritedData("$formController")||t,n={year:{},month:{}};function r(e){var t=e.month,n=e.year,r=!!t&&!!n&&!o.isPast(t,n);a.$setValidity("ccExp",r,i)}this.setMonth=function(e){n.month=e},this.setYear=function(e){n.year=e},this.$watch=function(){e.$watch(function(){return{month:n.month.$modelValue,year:n.year.$modelValue}},r,!0)}}n=t.exports=function(){return{restrict:"AE",require:"ccExp",controller:r,link:function(e,t,n,r){r.$watch()}}},r.$inject=["$scope","$element"];var l={setMonth:u,setYear:u};function u(){}n.month=function(){return{restrict:"A",require:["ngModel","^?ccExp"],compile:function(e,t){return t.$set("maxlength",2),t.$set("pattern","[0-9]*"),t.$set("xAutocompletetype","cc-exp-month"),function(e,t,n,r){var i=r[0];(r[1]||l).setMonth(i),i.$parsers.unshift(a.parse),i.$validators.ccExpMonth=a.isValid}}}},n.year=function(){return{restrict:"A",require:["ngModel","^?ccExp"],compile:function(e,t){var a=void 0!==t.fullYear;return t.$set("maxlength",a?4:2),t.$set("pattern","[0-9]*"),t.$set("xAutocompletetype","cc-exp-year"),function(e,t,n,r){var i=r[0];(r[1]||l).setYear(i),i.$parsers.unshift(c.partialRight(s.parse,!a)),i.$formatters.unshift(function(e){return e?s.format(e,!a):""}),i.$validators.ccExpYear=function(e){return s.isValid(e)&&!s.isPast(e)}}}}}},{ap:1,creditcards:12}],16:[function(e,t,n){"use strict";var c=e("creditcards").card;function r(s){return{restrict:"A",require:["ngModel","ccNumber"],controller:function(){this.type=null,this.eagerType=null},compile:function(e,t){return t.$set("pattern","[0-9]*"),t.$set("xAutocompletetype","cc-number"),function(t,a,n,e){var o=e[0],r=e[1];function i(){return o.$viewValue}t.$watch(n.ngModel,function(e){o.$ccType=r.type=c.type(e)}),null!=n.ccEagerType&&t.$watch(i,function(e){e&&(e=c.parse(e),o.$ccEagerType=r.eagerType=c.type(e,!0))}),n.ccType&&t.$watch(n.ccType,function(){o.$validate()}),null!=n.ccFormat&&t.$watch(i,function(e,t){if(e){var n=a[0],r=c.format(c.parse(e));o.$setViewValue(r);var i=n.selectionEnd;o.$render(),r&&!r.charAt(i-1).trim()&&(t&&t.length<e.length?i++:i--),n.setSelectionRange(i,i)}}),o.$parsers.unshift(c.parse),o.$validators.ccNumber=function(e){return c.isValid(e)},o.$validators.ccNumberType=function(e){return c.isValid(e,s(n.ccType)(t))}}}}}(t.exports=r).$inject=["$parse"]},{creditcards:12}],17:[function(o,s,e){(function(e){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==e?e.angular:null,n=o("creditcards"),r=o("./number"),i=o("./cvc"),a=o("./expiration");s.exports=t.module("credit-cards",[]).value("creditcards",n).directive("ccNumber",r).directive("ccExp",a).directive("ccExpMonth",a.month).directive("ccExpYear",a.year).directive("ccCvc",i).name}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cvc":14,"./expiration":15,"./number":16,creditcards:12}]},{},[17])(17)}),function(e,w){"use strict";var a,o,t,$,n,r=w.module("ngRoute",[]).info({angularVersion:"1.7.2"}).provider("$route",function(){function y(e,t){return w.extend(Object.create(e),t)}a=w.isArray,o=w.isObject,t=w.isDefined,$=w.noop;var b={};function i(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},o=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,r){var i="?"===r||"*?"===r?"?":null,a="*"===r||"*?"===r?"*":null;return o.push({name:n,optional:!!i}),t=t||"",(i?"":t)+"(?:"+(i?t:"")+(a?"(.+?)":"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([/$*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}this.when=function(e,t){var n=function(e,t){if(a(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(o(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}(t);if(w.isUndefined(n.reloadOnUrl)&&(n.reloadOnUrl=!0),w.isUndefined(n.reloadOnSearch)&&(n.reloadOnSearch=!0),w.isUndefined(n.caseInsensitiveMatch)&&(n.caseInsensitiveMatch=this.caseInsensitiveMatch),b[e]=w.extend(n,e&&i(e,n)),e){var r="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";b[r]=w.extend({redirectTo:e},i(r,n))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},n=!0,this.eagerInstantiationEnabled=function(e){return t(e)?(n=e,this):n},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(o,s,i,a,c,r,l,e){var u,d,p=!1,f={routes:b,reload:function(){var e={defaultPrevented:!(p=!0),preventDefault:function(){this.defaultPrevented=!0,p=!1}};o.$evalAsync(function(){t(e),e.defaultPrevented||n()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw C("norout","Tried updating route with no current route");e=w.extend({},this.current.params,e),s.path(v(this.current.$$route.originalPath,e)),s.search(e)}};return o.$on("$locationChangeStart",t),o.$on("$locationChangeSuccess",n),f;function t(e){var n,r,t,i,a=f.current;w.forEach(b,function(e,t){!r&&(n=function(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;a<o;++a){var s=n[a-1],c=i[a];s&&c&&(r[s.name]=c)}return r}(s.path(),e))&&((r=y(e,{params:w.extend({},s.search(),n),pathParams:n})).$$route=e)}),u=r||b.null&&y(b.null,{params:{},pathParams:{}}),t=u,i=a,(d=!p&&t&&i&&t.$$route===i.$$route&&(!t.reloadOnUrl||!t.reloadOnSearch&&w.equals(t.pathParams,i.pathParams)))||!a&&!u||o.$broadcast("$routeChangeStart",u,a).defaultPrevented&&e&&e.preventDefault()}function n(){var t=f.current,n=u;if(d)t.params=n.params,w.copy(t.params,i),o.$broadcast("$routeUpdate",t);else if(n||t){p=!1,f.current=n;var r=a.resolve(n);e.$$incOutstandingRequestCount(),r.then(h).then(g).then(function(e){return e&&r.then(m).then(function(e){n===f.current&&(n&&(n.locals=e,w.copy(n.params,i)),o.$broadcast("$routeChangeSuccess",n,t))})}).catch(function(e){n===f.current&&o.$broadcast("$routeChangeError",n,t,e)}).finally(function(){e.$$completeOutstandingRequest($)})}}function h(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(w.isString(e.redirectTo))t.path=v(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var n=s.path(),r=s.search(),i=e.redirectTo(e.pathParams,n,r);w.isDefined(i)&&(t.url=i,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return a.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return w.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function g(e){var t=!0;if(e.route!==f.current)t=!1;else if(e.hasRedirection){var n=s.url(),r=e.url;r?s.url(r).replace():r=s.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function m(e){if(e){var n=w.extend({},e.resolve);w.forEach(n,function(e,t){n[t]=w.isString(e)?c.get(e):c.invoke(e,null,null,t)});var t=function(e){var t,n;w.isDefined(t=e.template)?w.isFunction(t)&&(t=t(e.params)):w.isDefined(n=e.templateUrl)&&(w.isFunction(n)&&(n=n(e.params)),w.isDefined(n)&&(e.loadedTemplateUrl=l.valueOf(n),t=r(n)));return t}(e);return w.isDefined(t)&&(n.$template=t),a.all(n)}}function v(e,i){var a=[];return w.forEach((e||"").split(":"),function(e,t){if(0===t)a.push(e);else{var n=e.match(/(\w+)(?:[?*])?(.*)/),r=n[1];a.push(i[r]),a.push(n[2]||""),delete i[r]}}),a.join("")}}]}).run(i),C=w.$$minErr("ngRoute");function i(e){n&&e.get("$route")}function s(f,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,e,t,s){var c,l,n,u=e.autoscroll,d=e.onload||"";function p(){n&&(g.cancel(n),n=null),c&&(c.$destroy(),c=null),l&&((n=g.leave(l)).done(function(e){!1!==e&&(n=null)}),l=null)}function r(){var e=f.current&&f.current.locals,t=e&&e.$template;if(w.isDefined(t)){var n=a.$new(),r=f.current,i=s(n,function(e){g.enter(e,null,l||o).done(function(e){!1===e||!w.isDefined(u)||u&&!a.$eval(u)||h()}),p()});l=i,(c=r.scope=n).$emit("$viewContentLoaded"),c.$eval(d)}else p()}a.$on("$routeChangeSuccess",r),r()}}}function c(o,s,c){return{restrict:"ECA",priority:-400,link:function(e,t){var n=c.current,r=n.locals;t.html(r.$template);var i=o(t.contents());if(n.controller){r.$scope=e;var a=s(n.controller,r);n.controllerAs&&(e[n.controllerAs]=a),t.data("$ngControllerController",a),t.children().data("$ngControllerController",a)}e[n.resolveAs||"$resolve"]=r,i(e)}}}i.$inject=["$injector"],r.provider("$routeParams",function(){this.$get=function(){return{}}}),r.directive("ngView",s),r.directive("ngView",c),s.$inject=["$route","$anchorScroll","$animate"],c.$inject=["$compile","$controller","$route"]}(window,window.angular),function(s){var c,l,n,r,t,u,i,a,o,d,e,p,f,h=0,g={},m=[],v=0,y={},b=[],w=null,$=new Image,C=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,x=/[^\.]\.(swf)\s*$/i,P=1,S=0,k="",T=!1,A=s.extend(s("<div/>")[0],{prop:0}),I=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,N=function(){l.hide(),$.onerror=$.onload=null,w&&w.abort(),c.empty()},D=function(){if(!1===g.onError(m,h,g))return l.hide(),void(T=!1);g.titleShow=!1,g.width="auto",g.height="auto",c.html('<p id="fbplus-error">The requested content cannot be loaded.<br />Please try again later.</p>'),V()},O=function(){var r,e,t,n,i,a,o=m[h];if(N(),g=s.extend({},s.fn.fancyboxPlus.defaults,void 0===s(o).data("fancyboxPlus")?g:s(o).data("fancyboxPlus")),!1!==(a=g.onStart(m,h,g)))if("object"==typeof a&&(g=s.extend(g,a)),t=g.title||(o.nodeName?s(o).attr("title"):o.title)||"",o.nodeName&&!g.orig&&(g.orig=s(o).children("img:first").length?s(o).children("img:first"):s(o)),""===t&&g.orig&&g.titleFromAlt&&(t=g.orig.attr("alt")),r=g.href||(o.nodeName?s(o).attr("href"):o.href)||null,(/^(?:javascript)/i.test(r)||"#"==r)&&(r=null),g.type?(e=g.type,r||(r=g.content)):g.content?e="html":r&&(e=r.match(C)?"image":r.match(x)?"swf":s(o).hasClass("iframe")?"iframe":0===r.indexOf("#")?"inline":"ajax"),e)switch("inline"==e&&(o=r.substr(r.indexOf("#")),e=0<s(o).length?"inline":"ajax"),g.type=e,g.href=r,g.title=t,g.autoDimensions&&("html"==g.type||"inline"==g.type||"ajax"==g.type?(g.width="auto",g.height="auto"):g.autoDimensions=!1),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),g.padding=parseInt(g.padding,10),g.margin=parseInt(g.margin,10),c.css("padding",g.padding+g.margin),s(".fbplus-inline-tmp").unbind("fbplus-cancel").bind("fbplus-change",function(){s(this).replaceWith(u.children())}),e){case"html":c.html(g.content),V();break;case"inline":if(!0===s(o).parent().is("#fbplus-content"))return void(T=!1);s('<div class="fbplus-inline-tmp" />').hide().insertBefore(s(o)).bind("fbplus-cleanup",function(){s(this).replaceWith(u.children())}).bind("fbplus-cancel",function(){s(this).replaceWith(c.children())}),s(o).appendTo(c),V();break;case"image":T=!1,s.fancyboxPlus.showActivity(),($=new Image).onerror=function(){D()},$.onload=function(){T=!0,$.onerror=$.onload=null,E()},$.src=r;break;case"swf":g.scrolling="no",n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+r+'"></param>',i="",s.each(g.swf,function(e,t){n+='<param name="'+e+'" value="'+t+'"></param>',i+=" "+e+'="'+t+'"'}),n+='<embed src="'+r+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+i+"></embed></object>",c.html(n),V();break;case"ajax":T=!1,s.fancyboxPlus.showActivity(),g.ajax.win=g.ajax.success,w=s.ajax(s.extend({},g.ajax,{url:r,data:g.ajax.data||{},error:function(e,t,n){0<e.status&&D()},success:function(e,t,n){if(200==("object"==typeof n?n:w).status){if("function"==typeof g.ajax.win){if(!1===(a=g.ajax.win(r,e,t,n)))return void l.hide();"string"!=typeof a&&"object"!=typeof a||(e=a)}c.html(e),V()}}}));break;case"iframe":F()}else D();else T=!1},V=function(){var e=g.width,t=g.height;e=-1<e.toString().indexOf("%")?parseInt((s(window).width()-2*g.margin)*parseFloat(e)/100,10)+"px":"auto"==e?"auto":e+"px",t=-1<t.toString().indexOf("%")?parseInt((s(window).height()-2*g.margin)*parseFloat(t)/100,10)+"px":"auto"==t?"auto":t+"px",c.wrapInner('<div style="width:'+e+";height:"+t+";overflow: "+("auto"==g.scrolling?"auto":"yes"==g.scrolling?"scroll":"hidden")+';position:relative;"></div>'),g.width=c.width(),g.height=c.height(),F()},E=function(){g.width=$.width,g.height=$.height,s("<img />").attr({id:"fbplus-img",src:$.src,alt:g.title}).appendTo(c),F()},F=function(){var e,t;return l.hide(),r.is(":visible")&&!1===y.onCleanup(b,v,y)?(s.event.trigger("fbplus-cancel"),void(T=!1)):(T=!0,s(u.add(n)).unbind(),s(window).unbind("resize.fb scroll.fb"),s(document).unbind("keydown.fb"),r.is(":visible")&&"outside"!==y.titlePosition&&r.css("height",r.height()),b=m,v=h,(y=g).overlayShow?(n.css({"background-color":y.overlayColor,opacity:y.overlayOpacity,cursor:y.hideOnOverlayClick?"pointer":"auto",height:s(document).height()}),n.is(":visible")||(I&&s("select:not(#fbplus-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fbplus-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),f=L(),M(),r.is(":visible")?(s(i.add(o).add(d)).hide(),e=r.position(),p={top:e.top,left:e.left,width:r.width(),height:r.height()},t=p.width==f.width&&p.height==f.height,void u.fadeTo(y.changeFade,.3,function(){var e=function(){u.html(c.contents()).fadeTo(y.changeFade,1,q)};s.event.trigger("fbplus-change"),u.empty().removeAttr("filter").css({"border-width":y.padding,width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}),t?e():(A.prop=0,s(A).animate({prop:1},{duration:y.changeSpeed,easing:y.easingChange,step:R,complete:e}))})):(r.removeAttr("style"),u.css("border-width",y.padding),"elastic"==y.transitionIn?(p=_(),u.html(c.contents()),r.show(),y.opacity&&(f.opacity=0),A.prop=0,void s(A).animate({prop:1},{duration:y.speedIn,easing:y.easingIn,step:R,complete:q})):("inside"==y.titlePosition&&0<S&&a.show(),u.css({width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}).html(c.contents()),void r.css(f).fadeIn("none"==y.transitionIn?0:y.speedIn,q))))},M=function(){var e;if(k=y.title||"",S=0,a.empty().removeAttr("style").removeClass(),!1!==y.titleShow)if((k=s.isFunction(y.titleFormat)?y.titleFormat(k,b,v,y):!(!(e=k)||!e.length)&&("float"==y.titlePosition?'<table id="fbplus-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fbplus-title-float-left"></td><td id="fbplus-title-float-main">'+e+'</td><td id="fbplus-title-float-right"></td></tr></table>':'<div id="fbplus-title-'+y.titlePosition+'">'+e+"</div>"))&&""!==k){switch(a.addClass("fbplus-title-"+y.titlePosition).html(k).appendTo("body").show(),y.titlePosition){case"inside":a.css({width:f.width-2*y.padding,marginLeft:y.padding,marginRight:y.padding}),S=a.outerHeight(!0),a.appendTo(t),f.height+=S;break;case"over":a.css({marginLeft:y.padding,width:f.width-2*y.padding,bottom:y.padding}).appendTo(t);break;case"float":a.css("left",-1*parseInt((a.width()-f.width-40)/2,10)).appendTo(r);break;default:a.css({width:f.width-2*y.padding,paddingLeft:y.padding,paddingRight:y.padding}).appendTo(r)}a.hide()}else a.hide();else a.hide()},q=function(){s.support.opacity||(s("#fancybox-content").css("filter",0),s("#fancybox-wrap").css("filter",0)),g.autoDimensions&&u.css("height","auto"),r.css("height","auto"),k&&k.length&&a.show(),y.showCloseButton&&i.show(),function(){if((y.enableEscapeButton||y.enableKeyboardNav)&&s(document).bind("keydown.fb",function(e){27==e.keyCode&&y.enableEscapeButton?(e.preventDefault(),s.fancyboxPlus.close()):37!=e.keyCode&&39!=e.keyCode||!y.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),s.fancyboxPlus[37==e.keyCode?"prev":"next"]())}),!y.showNavArrows)return o.hide(),d.hide();(y.cyclic&&1<b.length||0!==v)&&o.show(),(y.cyclic&&1<b.length||v!=b.length-1)&&d.show()}(),y.hideOnContentClick&&u.bind("click",s.fancyboxPlus.close),y.hideOnOverlayClick&&n.bind("click",s.fancyboxPlus.close),s(window).bind("resize.fb",s.fancyboxPlus.resize),y.centerOnScroll&&s(window).bind("scroll.fb",s.fancyboxPlus.center),"iframe"==y.type&&s('<iframe id="fbplus-frame" name="fbplus-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+g.scrolling+'" src="'+y.href+'"></iframe>').appendTo(u),r.show(),T=!1,s.fancyboxPlus.center(),y.onComplete(b,v,y),j()},j=function(){var e;b.length-1>v&&void 0!==(e=b[v+1].href)&&e.match(C)&&((new Image).src=e),0<v&&void 0!==(e=b[v-1].href)&&e.match(C)&&((new Image).src=e)},R=function(e){var t={width:parseInt(p.width+(f.width-p.width)*e,10),height:parseInt(p.height+(f.height-p.height)*e,10),top:parseInt(p.top+(f.top-p.top)*e,10),left:parseInt(p.left+(f.left-p.left)*e,10)};void 0!==f.opacity&&(t.opacity=e<.5?.5:e),r.css(t),u.css({width:t.width-2*y.padding,height:t.height-S*e-2*y.padding})},z=function(){return[s(window).width()-2*y.margin,s(window).height()-2*y.margin,s(document).scrollLeft()+y.margin,s(document).scrollTop()+y.margin]},L=function(){var e,t=z(),n={},r=y.autoScale,i=2*y.padding;return-1<y.width.toString().indexOf("%")?n.width=parseInt(t[0]*parseFloat(y.width)/100,10):n.width=y.width+i,-1<y.height.toString().indexOf("%")?n.height=parseInt(t[1]*parseFloat(y.height)/100,10):n.height=y.height+i,r&&(n.width>t[0]||n.height>t[1])&&("image"==g.type||"swf"==g.type?(e=y.width/y.height,n.width>t[0]&&(n.width=t[0],n.height=parseInt((n.width-i)/e+i,10)),n.height>t[1]&&(n.height=t[1],n.width=parseInt((n.height-i)*e+i,10))):(n.width=Math.min(n.width,t[0]),n.height=Math.min(n.height,t[1]))),n.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-n.height-40)),10),n.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-n.width-40)),10),n},_=function(){var e,t,n,r,i=!!g.orig&&s(g.orig),a={};return i&&i.length?((r=(n=i).offset()).top+=parseInt(n.css("paddingTop"),10)||0,r.left+=parseInt(n.css("paddingLeft"),10)||0,r.top+=parseInt(n.css("border-top-width"),10)||0,r.left+=parseInt(n.css("border-left-width"),10)||0,r.width=n.width(),r.height=n.height(),a={width:(e=r).width+2*y.padding,height:e.height+2*y.padding,top:e.top-y.padding-20,left:e.left-y.padding-20}):(t=z(),a={width:2*y.padding,height:2*y.padding,top:parseInt(t[3]+.5*t[1],10),left:parseInt(t[2]+.5*t[0],10)}),a},H=function(){l.is(":visible")?(s("div",l).css("top",-40*P+"px"),P=(P+1)%12):clearInterval(e)};s.fn.fancyboxPlus=function(e){return s(this).length&&s(this).data("fancyboxPlus",s.extend({},e,s.metadata?s(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!T){T=!0,s(this).blur(),m=[],h=0;var t=s(this).attr("rel")||"";t&&""!=t&&"nofollow"!==t?(m=s("a[rel="+t+"], area[rel="+t+"]"),h=m.index(this)):m.push(this),O()}}),this},s.fancyboxPlus=function(e){var t;if(!T){if(T=!0,t=void 0!==arguments[1]?arguments[1]:{},m=[],h=parseInt(t.index,10)||0,s.isArray(e)){for(var n=0,r=e.length;n<r;n++)"object"==typeof e[n]?s(e[n]).data("fancyboxPlus",s.extend({},t,e[n])):e[n]=s({}).data("fancyboxPlus",s.extend({content:e[n]},t));m=jQuery.merge(m,e)}else"object"==typeof e?s(e).data("fancyboxPlus",s.extend({},t,e)):e=s({}).data("fancyboxPlus",s.extend({content:e},t)),m.push(e);(h>m.length||h<0)&&(h=0),O()}},s.fancyboxPlus.showActivity=function(){clearInterval(e),l.show(),e=setInterval(H,66)},s.fancyboxPlus.hideActivity=function(){l.hide()},s.fancyboxPlus.next=function(){return s.fancyboxPlus.pos(v+1)},s.fancyboxPlus.prev=function(){return s.fancyboxPlus.pos(v-1)},s.fancyboxPlus.pos=function(e){T||(e=parseInt(e),m=b,-1<e&&e<b.length?(h=e,O()):y.cyclic&&1<b.length&&(h=e>=b.length?0:b.length-1,O()))},s.fancyboxPlus.cancel=function(){T||(T=!0,s.event.trigger("fbplus-cancel"),N(),g.onCancel(m,h,g),T=!1)},s.fancyboxPlus.close=function(){if(!T&&!r.is(":hidden"))if(T=!0,y&&!1===y.onCleanup(b,v,y))T=!1;else if(N(),s(i.add(o).add(d)).hide(),s(u.add(n)).unbind(),s(window).unbind("resize.fb scroll.fb"),s(document).unbind("keydown.fb"),u.find("iframe").attr("src",I&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==y.titlePosition&&a.empty(),r.stop(),"elastic"==y.transitionOut){p=_();var e=r.position();f={top:e.top,left:e.left,width:r.width(),height:r.height()},y.opacity&&(f.opacity=1),a.empty().hide(),A.prop=1,s(A).animate({prop:0},{duration:y.speedOut,easing:y.easingOut,step:R,complete:t})}else r.fadeOut("none"==y.transitionOut?0:y.speedOut,t);function t(){n.fadeOut("fast"),a.empty().hide(),r.hide(),s.event.trigger("fbplus-cleanup"),u.empty(),y.onClosed(b,v,y),b=g=[],v=h=0,y=g={},T=!1}},s.fancyboxPlus.resize=function(){n.is(":visible")&&n.css("height",s(document).height()),s.fancyboxPlus.center(!0)},s.fancyboxPlus.center=function(){var e,t;T||(t=!0===arguments[0]?1:0,e=z(),!t&&(r.width()>e[0]||r.height()>e[1])||r.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-u.height()-40)-y.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-u.width()-40)-y.padding))},"number"==typeof arguments[0]?arguments[0]:200))},s.fancyboxPlus.init=function(){s("#fbplus-wrap").length||(s("body").append(c=s('<div id="fbplus-tmp"></div>'),l=s('<div id="fbplus-loading"><div></div></div>'),n=s('<div id="fbplus-overlay"></div>'),r=s('<div id="fbplus-wrap"></div>')),(t=s('<div id="fbplus-outer"></div>').append('<div class="fbplus-bg" id="fbplus-bg-n"></div><div class="fbplus-bg" id="fbplus-bg-ne"></div><div class="fbplus-bg" id="fbplus-bg-e"></div><div class="fbplus-bg" id="fbplus-bg-se"></div><div class="fbplus-bg" id="fbplus-bg-s"></div><div class="fbplus-bg" id="fbplus-bg-sw"></div><div class="fbplus-bg" id="fbplus-bg-w"></div><div class="fbplus-bg" id="fbplus-bg-nw"></div>').appendTo(r)).append(u=s('<div id="fbplus-content"></div>'),i=s('<a id="fbplus-close"></a>'),a=s('<div id="fbplus-title"></div>'),o=s('<a href="javascript:;" id="fbplus-left"><span class="fancy-ico" id="fbplus-left-ico"></span></a>'),d=s('<a href="javascript:;" id="fbplus-right"><span class="fancy-ico" id="fbplus-right-ico"></span></a>')),i.click(s.fancyboxPlus.close),l.click(s.fancyboxPlus.cancel),o.click(function(e){e.preventDefault(),s.fancyboxPlus.prev()}),d.click(function(e){e.preventDefault(),s.fancyboxPlus.next()}),s.fn.mousewheel&&r.bind("mousewheel.fb",function(e,t){T?e.preventDefault():0!=s(e.target).get(0).clientHeight&&s(e.target).get(0).scrollHeight!==s(e.target).get(0).clientHeight||(e.preventDefault(),s.fancyboxPlus[0<t?"prev":"next"]())}),s.support.opacity||r.addClass("fbplus-ie"),I&&(l.addClass("fbplus-ie6"),r.addClass("fbplus-ie6"),s('<iframe id="fbplus-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(t)))},s.fn.fancyboxPlus.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},s(document).ready(function(){s.fancyboxPlus.init()})}(jQuery),function(){"use strict";function e(c,l,e,u,d,t){return{restrict:"A",link:n,priority:100};function n(a,o,s,e){a.$on("$destroy",function(){o.remove()}),function(e){var t={href:s.src?s.src:s.href,onComplete:function(){l.$apply(function(){var e=$("#fbplus-content");c(e)(l)})}};if(s.fancyboxable&&0<s.fancyboxable.length){var n=u(s.fancyboxable),r=n(a);angular.extend(t,r)}for(var i in t)t.hasOwnProperty(i)&&void 0===t[i]&&delete t[i];void 0!==e&&(t.open=e);d(function(){s.ngSrc?d(function(){t.href=s.src?s.src:s.href,$(o).fancyboxPlus(t)},300):$(o).fancyboxPlus(t)},0)}()}}function t(o,s,e,t,c,l){return{restrict:"E",scope:{open:"=",options:"=",templateUrl:"&",onStart:"&",onCancel:"&",onComplete:"&",onCleanup:"&",onClosed:"&"},require:"fancybox",link:r,controller:n,controllerAs:"vm"};function n(e){}function r(r,e,i,t){function a(e){var t={href:i.src,boxFor:i.boxFor,onOpen:function(){r.onOpen&&r.onOpen()&&r.onOpen()()},onCancel:function(){r.onCancel&&r.onCancel()&&r.onCancel()()},onComplete:function(){s.$apply(function(){var e=$("#fbplus-content");o(e)(s)}),r.onComplete&&r.onComplete()&&r.onComplete()()},onCleanup:function(){r.onCleanup&&r.onCleanup()&&r.onCleanup()()},onClosed:function(){r.$apply(function(){r.open=!1}),r.onClosed&&r.onClosed()&&r.onClosed()()}};for(var n in r.options&&angular.extend(t,r.options),t)t.hasOwnProperty(n)&&void 0===t[n]&&delete t[n];void 0!==e&&(t.open=e),c(function(){t.boxFor?$(t.boxFor).fancyboxPlus(t):t.href&&$.fancyboxPlus(t)},0)}r.$watch("open",function(e,t){var n;t!==e&&((n=e)?a(n):l.close())}),r.$on("$destroy",function(){e.remove()}),a()}}angular.module("fancyboxplus",[]).service("fancyboxService",function(){return{fancyboxPlus:e,showActivity:function(){e().showActivity()},hideActivity:function(){e().hideActivity()},next:function(){e().next()},prev:function(){e().prev()},pos:function(){e().pos()},cancel:function(){e().cancel()},close:function(){e().close()},resize:function(){e().resize()},center:function(){e().center()}};function e(){return $.fancyboxPlus}}).directive("fancyboxable",e).directive("fancybox",t),e.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"],t.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"]}(),function(){var b="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(m,v,y){return{terminal:!0,multiElement:!0,priority:100,compile:function(e,t){var h=t.dirPaginate,n=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),r=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===n[2].match(r))throw"pagination directive: the 'itemsPerPage' filter must be set.";var i=n[2].replace(r,""),g=v(i);a=e,angular.forEach(a,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)});var a;var o=t.paginationId||b;return y.registerInstance(o),function(e,t,n){var r=v(n.paginationId)(e)||n.paginationId||b;y.registerInstance(r);var i,a,o,s,c,l,u,d=(l=r,u=!!(c=h).match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/),l===b||u?c:c.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+l+"'"));a=n,o=d,(i=t)[0].hasAttribute("dir-paginate-start")||i[0].hasAttribute("data-dir-paginate-start")?(a.$set("ngRepeatStart",o),i.eq(i.length-1).attr("ng-repeat-end",!0)):a.$set("ngRepeat",o),s=t,angular.forEach(s,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),s.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),s.eq(s.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end");var p=m(t),f=function(e,t,n){var r;if(t.currentPage)r=v(t.currentPage);else{var i=(n+"__currentPage").replace(/\W/g,"_");e[i]=1,r=v(i)}return r}(e,n,r);y.setCurrentPageParser(r,f,e),void 0!==n.totalItems?(y.setAsyncModeTrue(r),e.$watch(function(){return v(n.totalItems)(e)},function(e){0<=e&&y.setCollectionLength(r,e)})):(y.setAsyncModeFalse(r),e.$watchCollection(function(){return g(e)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;y.setCollectionLength(r,t)}})),p(e)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(d,n){var p=/^\d+$/,e={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(r,e,t){var n=t.paginationId||b,i=r.paginationId||t.paginationId||b;if(!d.isRegistered(i)&&!d.isRegistered(n)){var a=i!==b?" (id: "+i+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+a+"cannot be used without the corresponding pagination directive, which was not found at link time.")}r.maxSize||(r.maxSize=9);r.autoHide=void 0===r.autoHide||r.autoHide,r.directionLinks=!angular.isDefined(t.directionLinks)||r.$parent.$eval(t.directionLinks),r.boundaryLinks=!!angular.isDefined(t.boundaryLinks)&&r.$parent.$eval(t.boundaryLinks);var o=Math.max(r.maxSize,5);function s(e){if(d.isRegistered(i)&&u(e)){var t=r.pagination.current;r.pages=f(e,d.getCollectionLength(i),d.getItemsPerPage(i),o),r.pagination.current=e,l(),r.onPageChange&&r.onPageChange({newPageNumber:e,oldPageNumber:t})}}function c(){if(d.isRegistered(i)){var e=parseInt(d.getCurrentPage(i))||1;r.pages=f(e,d.getCollectionLength(i),d.getItemsPerPage(i),o),r.pagination.current=e,r.pagination.last=r.pages[r.pages.length-1],r.pagination.last<r.pagination.current?r.setCurrent(r.pagination.last):l()}}function l(){if(d.isRegistered(i)){var e=d.getCurrentPage(i),t=d.getItemsPerPage(i),n=d.getCollectionLength(i);r.range.lower=(e-1)*t+1,r.range.upper=Math.min(e*t,n),r.range.total=n}}function u(e){return p.test(e)&&0<e&&e<=r.pagination.last}r.pages=[],r.pagination={last:1,current:1},r.range={lower:1,upper:1,total:1},r.$watch("maxSize",function(e){e&&(o=Math.max(r.maxSize,5),c())}),r.$watch(function(){if(d.isRegistered(i))return(d.getCollectionLength(i)+1)*d.getItemsPerPage(i)},function(e){0<e&&c()}),r.$watch(function(){if(d.isRegistered(i))return d.getItemsPerPage(i)},function(e,t){e!=t&&void 0!==t&&s(r.pagination.current)}),r.$watch(function(){if(d.isRegistered(i))return d.getCurrentPage(i)},function(e,t){e!=t&&s(e)}),r.setCurrent=function(e){d.isRegistered(i)&&u(e)&&(e=parseInt(e,10),d.setCurrentPage(i,e))},r.tracker=function(e,t){return e+"_"+t}}},t=n.getString();void 0!==t?e.template=t:e.templateUrl=function(e,t){return t.templateUrl||n.getPath()};return e;function f(e,t,n,r){var i,a=[],o=Math.ceil(t/n),s=Math.ceil(r/2);i=e<=s?"start":o-s<e?"end":"middle";for(var c=r<o,l=1;l<=o&&l<=r;){var u=h(l,e,r,o),d=2===l&&("middle"===i||"end"===i),p=l===r-1&&("middle"===i||"start"===i);c&&(d||p)?a.push("..."):a.push(u),l++}return a}function h(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-i<t?r-n+e:i<t?t-i+e:e:e}}]).filter("itemsPerPage",["paginationService",function(o){return function(t,e,n){if(void 0===n&&(n=b),!o.isRegistered(n))throw"pagination directive: the itemsPerPage id argument (id: "+n+") does not match a registered pagination-id.";var r,i;if(angular.isObject(t)){if(e=parseInt(e)||9999999999,i=o.isAsyncMode(n)?0:(o.getCurrentPage(n)-1)*e,r=i+e,o.setItemsPerPage(n,e),t instanceof Array)return t.slice(i,r);var a={};return angular.forEach(function(e){{if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}}(t).slice(i,r),function(e){a[e]=t[e]}),a}return t}}]).service("paginationService",function(){var t,r={};this.registerInstance=function(e){void 0===r[e]&&(r[e]={asyncMode:!1},t=e)},this.deregisterInstance=function(e){delete r[e]},this.isRegistered=function(e){return void 0!==r[e]},this.getLastInstanceId=function(){return t},this.setCurrentPageParser=function(e,t,n){r[e].currentPageParser=t,r[e].context=n},this.setCurrentPage=function(e,t){r[e].currentPageParser.assign(r[e].context,t)},this.getCurrentPage=function(e){var t=r[e].currentPageParser;return t?t(r[e].context):1},this.setItemsPerPage=function(e,t){r[e].itemsPerPage=t},this.getItemsPerPage=function(e){return r[e].itemsPerPage},this.setCollectionLength=function(e,t){r[e].collectionLength=t},this.getCollectionLength=function(e){return r[e].collectionLength},this.setAsyncModeTrue=function(e){r[e].asyncMode=!0},this.setAsyncModeFalse=function(e){r[e].asyncMode=!1},this.isAsyncMode=function(e){return r[e].asyncMode}}).provider("paginationTemplate",function(){var t,n="angularUtils.directives.dirPagination.template";this.setPath=function(e){n=e},this.setString=function(e){t=e},this.$get=function(){return{getPath:function(){return n},getString:function(){return t}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}(),angular.module("exceptionOverride",[]).factory("$exceptionHandler",function(){return function(e,t){bugsnagClient.notify(e,{beforeSend:function(e){e.updateMetaData("angular",{cause:t})}})}});var app=angular.module("gatku",["angularFileUpload","ipCookie","ngAnimate","ngRoute","angular-stripe","ngTouch","credit-cards","checklist-model","angularUtils.directives.dirPagination","exceptionOverride"]);app.config(function(e){"production"===CONFIG.environment?e.setPublishableKey("pk_live_5MrQVqT1OSrL1lyeYe54NWgs"):e.setPublishableKey("pk_test_iTOIZYCF15Qmpq7CYOqltHCJ")}),app.filter("money",function(){return function(e){return e/100}}),app.filter("customNumber",function(){return function(e,t){var n=(t||4)-e.toString().length+1;return Array(+(0<n&&n)).join("0")+e}}),app.directive("backImg",["$window",function(e){return function(e,t,n){n.$observe("backImg",function(e){t.css({"background-image":"url("+e+")","background-size":"cover"})})}}]),app.directive("datepickerstartdate",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){e.datepicker({dateFormat:"yy-mm-dd",onSelect:function(e){t.order_start_date=e,t.$apply()}})}}}),app.directive("datepickerenddate",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){e.datepicker({dateFormat:"yy-mm-dd",onSelect:function(e){t.order_end_date=e,t.$apply()}})}}}),app.directive("hoverCard",["$compile","$window","Product","$filter","$exceptionHandler",function(i,c,l,u,d){return{restrict:"E",scope:!0,link:function(a,e,t){a.product={};u("money");var o=angular.element(e[0]),n='<div class="hover-card"><h2>{{ product.name }}</h2><div class="hover-card-image-container" ng-class="{ \'pole\' : product.type.slug === \'pole\' }"><img ng-src="{{ product.thumb }}"></div><div class="hover-card-actions"><a ng-href="/product/'+t.slug+'" target="_blank"><div class="button success-bg">See This Product</div></a></div><div class="hover-card-price">${{ product.price | money }}</div><div class="clear"></div><div class="hover-card-carot shadowed"></div><div class="hover-card-carot"></div></div>',r=angular.element(c.document.getElementsByTagName("body")[0]),s=i(n)(a);a.productFetched=!1,a.init=function(){750<c.innerWidth&&(r.append(s),a.positionCard(),a.fetchProduct())},a.fetchProduct=function(){l.getBySlug(t.slug).then(function(e){a.product=e.data,a.productFetched=!0,a.positionCard()},function(e){d(JSON.stringify(e)),console.log("Something went wrong.")})},a.positionCard=function(){var e=a.getRootOffsetTop(o[0],0),t=a.getRootOffsetLeft(o[0],0),n=o[0].offsetWidth,r=e-s[0].offsetHeight/2,i=t+n;s.css({top:r+"px",left:i+"px"})},a.getRootOffsetTop=function(e,t){return null===e.offsetParent?t+e.offsetTop:a.getRootOffsetTop(e.offsetParent,t+e.offsetTop)},a.getRootOffsetLeft=function(e,t){return null===e.offsetParent?t+e.offsetLeft:a.getRootOffsetLeft(e.offsetParent,t+e.offsetLeft)},o.bind("mouseover",function(){a.productFetched||a.fetchProduct(),s.addClass("visible")}),o.bind("mouseleave",function(){s.removeClass("visible")}),s.bind("mouseover",function(){s.addClass("visible")}),s.bind("mouseleave",function(){s.removeClass("visible")}),angular.element(c).bind("resize",function(){a.positionCard()}),a.init()}}}]),app.directive("productBuyers",["Product",function(r){return{restrict:"E",scope:!1,template:'<div><p class="product-buyers-header bold" ng-show="photos.length">Others who have bought this product:</p><div class="product-buyers-container"><div class="product-buyer placeholder square" ng-hide="photos.length"></div><div class="product-buyer square" ng-repeat="photo in photos | limitTo:3" ng-style="{\'background-image\':\'url(\' + photo.image + \')\'}"><a class="grouped_elements" rel="group1" href="{{photo.image}}"><img src="{{photo.image}}" alt="" style="width: 100%;height: 100%;vertical-align: top; opacity:0;"/></a></div><div class="clear"></div></div></div>',link:function(t,e,n){t.photos=[],r.customerPhotos(n.productId).then(function(e){t.photos=e.data,Squares.init()},function(e){$exceptionHandler(JSON.stringify(e)),console.log("There was a problem getting the product images")})}}}]),app.directive("loaded",["$parse",function(i){return{restrict:"A",link:function(t,e,n){var r=i(n.loaded);e.on("load",function(e){t.$apply(function(){r(t,{$event:e})})})}}}]),app.directive("alerter",["$window","$timeout","AlertService",function(e,i,a){return{restrict:"E",template:'<div class="alert-container slide-up" ng-show="show">'+"<div ng-class=\"{'success-alert' : alertType === 'success', 'info-alert' : alertType === 'info', 'error-alert' : alertType === 'error'}\">{{ message }}</div><i class=\"fa fa-close\" ng-click=\"show = false\"></i></div>",scope:!1,link:function(e,t,n){function r(){e.message=a.message,e.show=!0,i(function(){e.show=!1},4e3)}e.message="",e.show=!1,e.alertType="success",e.$on("successAlert",function(){e.alertType="success",r()}),e.$on("infoAlert",function(){e.alertType="info",r()}),e.$on("errorAlert",function(){e.alertType="error",r()})}}}]),app.directive("hamburger",["NavigationService",function(r){return{restrict:"E",template:'<div class="hamburger" ng-click="action()" ng-class="{ \'open\' : open }"><div class="patty"></div><div class="patty"></div><div class="patty"></div></div>',link:function(e,t,n){e.open=!1,e.status="Menu",e.action=function(){e.open?r.close():r.open()},e.$on("open",function(){e.open=!0,e.status="Back"}),e.$on("close",function(){e.open=!1,e.status="Menu"})}}}]),app.directive("cartIcon",["CartService",function(r){return{restrict:"E",template:'<div class="cart-icon" ng-click="showCart()">Cart<span class="mobile-cart-indicator">{{ count }}</span></div>',link:function(e,t,n){e.count=r.count(),e.$on("update",function(){e.count=r.count()}),e.showCart=function(){r.show()}}}}]),app.directive("bodyFreeze",["CartService",function(e){return{restrict:"A",link:function(e,t,n){e.$on("show",function(){t.addClass("frozen")}),e.$on("hide",function(){t.removeClass("frozen")})}}}]),app.directive("smoothLink",["$window","$location","NavigationService",function(r,e,i){return{restrict:"E",scope:{},template:'<a href="#" ng-click="click()">{{ text }}</a>',link:function(e,t,n){e.text=n.text,e.click=function(){var e=angular.element(r.document.getElementById(n.destination));r.document.getElementsByTagName("body")[0];return i.close(),$("html,body").animate({scrollTop:e[0].offsetTop},400),!1}}}}]),app.directive("shippingRequest",["$window","$compile","ShippingRequest","AlertService",function(a,o,s,c){return{restrict:"E",template:'<div class="button info-bg" shipping-request ng-click="open = !open">{{shipping.id ? "Request Sent" : "Request Shipping"}}</div>',scope:{order:"=",shipping:"="},link:function(n,e,t){var r=angular.element(a.document.getElementsByTagName("body")[0]),i=o('<div class="shipping-request-panel" ng-show="open"><h2>Sending shipping request to {{ order.customer.fullName }} for order : <span class="brand">{{ order.number }}</span></h2><form><label>Amount <span class="faded bold">(in dollars)</span></label><input type="number" ng-model="price"><div class="button success-bg" ng-click="send()">Send</div></form><i class="fa fa-close" ng-click="open = false;"></i></div>')(n);n.price=0,n.open=!1,n.send=function(){var t=new Nanobar({bg:"#fff"}),e={price:100*n.price,orderId:n.order.id};t.go(60),s.send(e).then(function(e){n.order.shipping=e.data,n.open=!1,t.go(100),c.broadcast("Shipping Request Sent!","success")},function(e){$exceptionHandler(JSON.stringify(e)),t.go(100),c.broadcast("Sorry, there was a problem.","error")})},r.append(i)}}}]),app.directive("shippingTrack",["$window","$compile","ShippingTrack","AlertService",function(a,o,s,c){return{restrict:"E",template:'<div class="button info-bg" shipping-track ng-click="open = !open">{{ tracking.track_id ? "Edit" : "Set Tracking"}}</div>',scope:{order:"=",tracking:"="},link:function(n,e,t){var r=angular.element(a.document.getElementsByTagName("body")[0]),i=o('<div class="shipping-request-panel" ng-show="open"><h2>Applying Tracking Number to {{ order.customer.fullName }} for order : <span class="brand">{{ order.number }}</span></h2><form><label>Tracking Number {{tracking.track_id ? "(Previous Tracking:" + tracking.track_id + ")": "" }}</label><input type="text" ng-model="track_id"><div class="shipping-request-model"><select ng-model="carrier"><option value="" ng-selected="true" ng-selected="true">Please Select a Carrier</option><option value="usps" label="USPS">usps.com</option><option value="auspost" label="Auspost">auspost.com.au</option><option value="packsend" label="Packsend">packsend.com.au</option><option value="ups" label="UPS">ups.com</option></select><div style="float:right" class="button success-bg" ng-click="send()">Apply</div></div> </form><i class="fa fa-close" ng-click="open = false;"></i></div>')(n);n.price=0,n.open=!1,n.send=function(){var t=new Nanobar({bg:"#fff"}),e={track_id:n.track_id,orderId:n.order.id,carrier:n.carrier};return angular.isDefined(n.tracking)&&(e.trackId=n.tracking.id),e.carrier?e.track_id?(t.go(60),void s.send(e).then(function(e){n.order.tracking=e.data,n.open=!1,i.remove(),t.go(100),c.broadcast("Tracking Number set!","success")},function(e){$exceptionHandler(JSON.stringify(e)),t.go(100),c.broadcast("Sorry, there was a problem.","error")})):(c.broadcast("Please input the truck id.","error"),!1):(c.broadcast("Please select carrier.","error"),!1)},r.append(i)}}}]),app.factory("AlertService",["$rootScope",function(e){var t={message:"",broadcast:function(e,t){this.message=e,"success"==t?this.broadcastSuccessAlert():"error"==t?this.broadcastErrorAlert():this.broadcastInfoAlert()},broadcastSuccessAlert:function(){e.$broadcast("successAlert")},broadcastErrorAlert:function(){e.$broadcast("errorAlert")},broadcastInfoAlert:function(){e.$broadcast("infoAlert")}};return t}]),app.factory("CartService",["$rootScope","$http","ipCookie","AlertService",function(o,e,t,n){var s={},c=t;return s.getItems=function(){return c("items")||[]},s.addItem=function(e){var t=s.getItems(),n={};n.id=e.id,n.name=e.name,n.shortName=e.shortName,n.length=e.length,n.price=e.price,n.thumb=e.thumb,n.slug=e.slug,n.type={},n.type.shippingPrice=e.type.shippingPrice,n.type.slug=e.type.slug,n.sizeable=e.sizeable,n.sizeId=e.sizeId,n.addons=[],n.quantity=1;for(var r=0;r<e.addons.length;r++){var i=e.addons[r],a={};i.checked&&(a.id=i.product.id,a.price=i.product.price,a.name=i.product.name,a.sizeable=i.product.sizeable,a.include_in_package=i.include_in_package,a.price_zero=i.price_zero,a.type={},a.type.slug=i.product.type.slug,i.product.sizeId&&(a.sizeId=i.product.sizeId),a.quantity=1,n.addons.push(a))}t.push(n),console.log("Items added before cookie"),c("items",t,{path:"/"}),o.$broadcast("update"),o.$broadcast("itemAdded"),console.log("Items added after cookie")},s.removeItem=function(e){var t=s.getItems();if(!t.length)return!1;t.splice(e,1),c("items",t,{path:"/"}),o.$broadcast("update")},s.getDiscount=function(){return c("discount")||""},s.setDiscount=function(e){c("discount",e,{path:"/"})},s.removeDiscount=function(){c.remove("discount",{path:"/"}),o.$broadcast("update")},s.count=function(){for(var e=s.getItems(),t=0,n=0;n<e.length;n++){"package"!=e[n].type.slug&&(t+=1*e[n].quantity);for(var r=0;r<e[n].addons.length;r++)t+=1*e[n].addons[r].quantity}return t},s.increaseItemQuantity=function(n){var r=c("items")||[];r[n].quantity++,angular.forEach(r[n].addons,function(e,t){e.include_in_package&&(r[n].addons[t].quantity=r[n].quantity)}),c("items",r,{path:"/"}),o.$broadcast("update")},s.decreaseItemQuantity=function(n){var r=c("items")||[];r[n].quantity--,angular.forEach(r[n].addons,function(e,t){e.include_in_package&&(r[n].addons[t].quantity=r[n].quantity)}),0==r[n].quantity&&r.splice(n,1),c("items",r,{path:"/"}),o.$broadcast("update")},s.increaseAddonQuantity=function(e,t){var n=c("items")||[];n[e].addons[t].quantity++,c("items",n,{path:"/"}),o.$broadcast("update")},s.decreaseAddonQuantity=function(e,t){var n=c("items")||[];n[e].addons[t].quantity--,0==n[e].addons[t].quantity&&n[e].addons.splice(t,1),c("items",n,{path:"/"}),o.$broadcast("update")},s.update=function(){o.$broadcast("update")},s.empty=function(){c.remove("items",{path:"/"}),o.$broadcast("update")},s.show=function(){o.$broadcast("show")},s.hide=function(){o.$broadcast("hide")},s.productInCart=function(e){var t=c("items")||[];if(t.length)for(var n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1},s}]),app.factory("NavigationService",["$rootScope",function(e){var t={open:function(){e.$broadcast("open")},close:function(){e.$broadcast("close")}};return t}]),app.factory("StripeService",["stripe",function(t){var e={validate:function(e){return t.card.validateCardNumber(e.number)?t.card.validateExpiry(e.exp_month,e.exp_year)?t.card.validateCVC(e.cvc)?{response:!0,message:"Valid card"}:{response:!1,message:"Invalic CVC code"}:{response:!1,message:"Invalid expiration date"}:{response:!1,message:"Invalid card number"}},createToken:function(e){return t.card.createToken(e)},displayErrors:function(e){"incorrect_number"===e.code||"invalid_number"===e.code||"invalid_expiry_month"===e.code||"invalid-expiry-year"===e.code||"invalid_cvc"===e.code||e.code}};return e}]),app.factory("Image",["$http","$upload",function(e,t){return{upload:function(e){return t.upload(e)}}}]),app.factory("AvailabilityType",["$http",function(e){return{all:function(){return e.get("/availability-type")}}}]),app.factory("Product",["$http",function(n){return{all:function(){return n.get("/product")},forPeriod:function(e,t){return n.get("/product",{params:{start_date:e,end_date:t}})},get:function(e){return n.get("/product/get/"+e)},getBySlug:function(e){return n.get("/product/by/slug/"+e)},store:function(e){return n.post("/product",e)},update:function(e,t){return n.put("/product/"+e,t)},getTypes:function(){return n.get("/product/types")},getByType:function(){return n.get("/product/by/type")},customerPhotos:function(e){return n.get("/product/photos/"+e)}}}]),app.factory("Discount",["$http",function(n){return{all:function(){return n.get("/discount")},get:function(e){return n.get("/discount/"+e)},remove:function(e){return n.delete("/discount/"+e)},store:function(e){return n.post("/discount",e)},update:function(e,t){return n.put("/discount/"+e,t)}}}]),app.factory("DiscountExists",["$http",function(e){return{all:function(){return e.get("/discounts-exists")}}}]),app.factory("HearGoodStuff",["$http",function(t){return{store:function(e){return t.post("/hear-good-stuff",e)}}}]),app.factory("Order",["$http",function(t){return{all:function(){return t.get("/order")},store:function(e){return t.post("/order",e)}}}]),app.factory("HomeSetting",["$http",function(t){return{all:function(){return t.get("/home-setting")},save:function(e){return t.post("/home-setting",e)}}}]),app.factory("YouImage",["$http",function(t){return{all:function(){return t.get("/you-image")},save:function(e){return t.post("/you-image",e)}}}]),app.factory("Size",["$http",function(t){return{getBySlug:function(e){return t.get("/size/by/slug/"+e)}}}]),app.factory("ShippingRequest",["$http",function(t){return{send:function(e){return t.post("/shipping-request",e)},pay:function(e){return t.post("/shipping-request/pay",e)}}}]),app.factory("ShippingTrack",["$http",function(t){return{send:function(e){return t.post("/shipping-track",e)}}}]),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(f,h){function g(e,t,n){if(angular.isArray(e))for(var r=e.length;r--;)if(n(e[r],t))return!0;return!1}function n(o,e,n){var t=n.checklistModel;n.$set("checklistModel",null),h(e)(o),n.$set("checklistModel",t);var s=f(t),c=s.assign,r=f(n.checklistChange),i=f(n.checklistBeforeChange),a=n.checklistValue?f(n.checklistValue)(o.$parent):n.value,l=angular.equals;if(n.hasOwnProperty("checklistComparator"))if("."==n.checklistComparator[0]){var u=n.checklistComparator.substring(1);l=function(e,t){return e[u]===t[u]}}else l=f(n.checklistComparator)(o.$parent);function d(e,t){var n,r,i,a=s(o.$parent);angular.isFunction(c)&&c(o.$parent,!0===t?(n=a,r=e,i=l,g(n=angular.isArray(n)?n:[],r,i)||n.push(r),n):function(e,t,n){if(angular.isArray(e))for(var r=e.length;r--;)if(n(e[r],t)){e.splice(r,1);break}return e}(a,e,l))}function p(e,t){i&&!1===i(o)?d(a,o[n.ngModel]):o[n.ngModel]=g(e,a,l)}o.$watch(n.ngModel,function(e,t){e!==t&&(i&&!1===i(o)?o[n.ngModel]=g(s(o.$parent),a,l):(d(a,e),r&&r(o)))}),angular.isFunction(o.$parent.$watchCollection)?o.$parent.$watchCollection(t,p):o.$parent.$watch(t,p,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(("INPUT"!==e[0].tagName||"checkbox"!==t.type)&&"MD-CHECKBOX"!==e[0].tagName&&!t.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),n}}}]),app.config(function(e){console.log("This is executed"),e.when("/admin/main",{templateUrl:"main.htm"}).when("/red",{templateUrl:"red.htm"}).when("/green",{templateUrl:"green.htm"}).when("/blue",{templateUrl:"blue.htm"})}),app.controller("AdminController",["$scope","Image","Product","Discount","Order","YouImage","AvailabilityType","AlertService","HomeSetting","$exceptionHandler",function(a,o,n,r,e,t,i,s,c,l){function u(r){angular.forEach(r,function(e,t){var n=0;angular.forEach(e.orderitems,function(e){n+=e.quantity}),r[t].sold=n}),a.products=r}function d(){a.newProduct.addonSelection=[];for(var e=0;e<a.products.length;e++){var t={};if(t.id=a.products[e].id,t.name=a.products[e].name,a.editingNew)t.isAddon=!1;else if(a.newProduct.addons.length)for(var n=0;n<a.newProduct.addons.length;n++){if(a.newProduct.addons[n].childId==a.products[e].id){t.isAddon=!0,a.newProduct.addons[n].include_in_package?t.include_in_package=!0:t.include_in_package=!1,a.newProduct.addons[n].price_zero?t.price_zero=!0:t.price_zero=!1;break}t.isAddon=!1}else t.isAddon=!1;a.newProduct.addonSelection.push(t)}}function p(){t.all().then(function(e){a.youImages=e.data,Squares.init()},function(e){l(JSON.stringify(e)),console.log("There was an error getting the You images")})}function f(){c.all().then(function(e){a.homeSetting=e.data?e.data:{},Squares.init()},function(e){l(JSON.stringify(e)),console.log("There was an error getting the home settings")})}function h(){r.all().then(function(e){a.discounts=e.data},function(e){l(JSON.stringify(e))})}a.init=function(){a.show("orders"),a.getProducts(),n.getTypes().then(function(e){a.types=e.data},function(e){l(JSON.stringify(e)),console.log("Sorry, types could not be retrieved")}),p(),f(),i.all().then(function(e){a.availabilityTypes=e.data},function(e){l(JSON.stringify(e)),console.log("Something went wrong on our end")})},a.orders=[],a.types=[],a.availabilityTypes=[],a.products=[],a.newProduct={},a.youImages=[],a.newYouImage={},a.homeSetting={},a.editState=!1,a.editingNew=!0,a.submitButton="Submit",a.show=function(e){switch(a.showOrders=!1,a.showProducts=!1,a.showYou=!1,a.showVideos=!1,a.showHomeSetting=!1,a.showDiscountManager=!1,a.reset(),e){case"orders":a.showOrders=!0;break;case"products":a.showProducts=!0;break;case"you":a.showYou=!0;break;case"videos":a.showVideos=!0;break;case"home-setting":a.showHomeSetting=!0;break;case"discount-manager":a.showDiscountManager=!0}},a.getProducts=function(){a.order_start_date&&a.order_end_date?n.forPeriod(a.order_start_date,a.order_end_date).then(function(e){u(e.data)},function(e){l(JSON.stringify(e)),console.log("Sorry, there was an error retrieving the products")}):n.all().then(function(e){u(e.data)},function(e){l(JSON.stringify(e)),console.log("Sorry, there was an error retrieving the products")})},a.saveProduct=function(){var t=new Nanobar({bg:"#fff"});t.go(60),n.store(a.newProduct).then(function(e){a.getProducts(),a.reset(),t.go(100),s.broadcast("Product saved!","success")},function(e){l(JSON.stringify(e)),t.go(100),s.broadcast("There was a problem","error")})},a.createProduct=function(){a.newProduct={},a.editState=!0,a.editingNew=!0,d()},a.editProduct=function(e){a.newProduct=e,a.editState=!0,a.editingNew=!1,d()},a.updateProduct=function(){var t=new Nanobar({bg:"#fff"}),e=a.newProduct;t.go(65),n.update(e.id,e).then(function(e){a.getProducts(),a.reset(),t.go(100),s.broadcast("Product updated!","success")},function(e){l(JSON.stringify(e)),t.go(100),s.broadcast("There was a problem.","error")})},a.upload=function(e,t){var n=new Nanobar({bg:"#fff"}),r=e[0];if(!r)return!1;var i={url:"/product/image",file:r};n.go(40),o.upload(i).progress(function(e){parseInt(100*e.loaded/e.total)}).then(function(e){a.newProduct[t]=e.data,n.go(100)},function(e){l(JSON.stringify(e)),n.go(100)})},a.reset=function(){a.newProduct={},a.newYouImage={},a.editState=!1,a.editingNew=!0},a.youImages=[],a.newYouImage={},a.uploadYouImage=function(e){var t=e[0];if(!t)return!1;var n={url:"/you-image/upload",file:t};a.editState=!0,o.upload(n).then(function(e){a.newYouImage.image=e.data},function(e){l(JSON.stringify(e)),console.log("Something went wrong.")})},a.saveYouImage=function(){var e=new Nanobar({bg:"#fff"});e.go(40),t.save(a.newYouImage).then(function(){p(),a.reset(),e.go(100)},function(e){l(JSON.stringify(e)),console.log("Something went wrong.")})},a.clearNewYouImage=function(){a.newYouImage=!1},a.uploadHomeImage=function(e,t){var n=e[0];if(!n)return!1;var r={url:"/home-image/upload",file:n};a.editState=!0,o.upload(r).then(function(e){console.log(t),a.homeSetting[t]=e.data},function(e){l(JSON.stringify(e)),s.broadcast("Sorry, there was an error, please try again","error")})},a.saveHomeSetting=function(){var e=new Nanobar({bg:"#fff"});e.go(40),c.save(a.homeSetting).then(function(){f(),s.broadcast("Photo was successfully updated.","success"),e.go(100)},function(e){l(JSON.stringify(e)),console.log("Something went wrong.")})},a.resetDateFilter=function(){a.order_start_date="",a.order_end_date="",a.getProducts()},h(),a.addDiscount=function(){a.discounts.push({discount:0,code:""})},a.discountUpdate=function(e){a.discounts[e].changed=!1;var t,n=a.discounts[e];t=n,1<a.discounts.filter(function(e){return e.code===t.code}).length?alert("This discount code is already in use. Please change code or update previous use."):n.created_at?r.update(n.code,n).then(function(){s.broadcast("Discount updated!","success"),h()},function(e){l(JSON.stringify(e)),s.broadcast("There was a problem with Discount update.")}):r.store(n).then(function(){s.broadcast("Discount added!","success"),h()},function(e){l(JSON.stringify(e)),s.broadcast("There was a problem with adding Discount.")})},a.getSaveUpdateButtonCaption=function(e){var t="Update";return e.created_at||(t="Save"),t},a.discountRemove=function(e){if(1==confirm("Do you want to remove this Discount?")){var t=a.discounts[e];t.created_at?r.remove(t.code).then(function(){s.broadcast("Discount removed!","success"),h()}).error(function(e){l(JSON.stringify(e)),s.broadcast("There was a problem with Discount removing.")}):(a.discounts.slice(e),h())}},a.discountRowChanged=function(e){a.discounts[e].changed=!0},a.adminLogout=function(){window.location.replace("/logout")},a.init()}]),app.controller("AdminordersController",["$scope","Order","$http","$exceptionHandler",function(i,e,a,o){var s=this;s.orders=[],s.pageno=1,s.itemsPerPage=15,s.getData=function(e,t,n){s.orders=[];var r="/orderall/"+s.itemsPerPage+"/"+e;try{i.order_start_date&&(r=r+"/"+i.order_start_date),i.order_end_date&&(r=r+"/"+i.order_end_date)}catch(e){}a.get(r).then(function(e){i.orders=e.data.orders,s.orders=e.data.orders,s.total_count=e.total_count},function(e){o(JSON.stringify(e)),console.log("Something went wrong.")})},s.getData(s.pageno),s.searchOrder=function(){i.order_start_date?s.getData(1,i.order_start_date,i.order_end_date):alert("select start date")},s.resetDateFilter=function(){i.order_start_date="",i.order_end_date="",s.getData(1,i.order_start_date,i.order_end_date)}}]),app.controller("CartBlinderController",["$scope","CartService",function(e,t){e.show=!1,e.hide=function(){t.hide()},e.$on("show",function(){e.show=!0}),e.$on("hide",function(){e.show=!1})}]),app.controller("CartController",["$scope","CartService","StripeService","Order","AlertService","Discount","DiscountExists","$exceptionHandler",function(c,n,i,r,a,e,t,o){function s(e,t,n){return e*t*(n/100)}function l(){var e={};return c.card.isBillingSame?e.address_zip=c.form.zip:e.address_zip=c.form.billing_zip,e.number=c.card.number,e.exp_month=c.card.expiryMonth,e.exp_year=c.card.expiryYear,e.cvc=c.card.securityCode,e.name=c.form.firstName+" "+c.form.lastName,e}c.items=[],c.show=!1,c.form={},c.form.useBillingForShipping=!0,c.status="",c.stages=["cart","checkout","payment","confirmation"],c.currentStage=c.stages[0],c.eligibleForDiscount=!1,c.discountText="",c.discountAmount=0,c.enabled=!0,c.blackFriday=!1,c.enteredDiscountCode="",c.discount="",c.discountsExists=!1,c.discountSum=0,t.all().then(function(e){c.discountsExists=e.data}),c.toStage=function(e){if(Inputs.blur(),!1===c.validate(e))return!1;c.currentStage=c.stages[e]},c.getItems=function(){var e=n.getItems();c.items=e},c.removeItem=function(e){n.removeItem(e)},c.getDiscountFromCookies=function(){c.discount=n.getDiscount()},c.removeDiscount=function(){n.removeDiscount(),c.getDiscountFromCookies()},c.increaseItemQuantity=function(e){n.increaseItemQuantity(e)},c.decreaseItemQuantity=function(e){n.decreaseItemQuantity(e)},c.increaseAddonQuantity=function(e,t){n.increaseAddonQuantity(e,t)},c.decreaseAddonQuantity=function(e,t){n.decreaseAddonQuantity(e,t)},c.shipping=function(){var e=0,t=[],n=[],r=[];if(3e4<=c.subtotal())return 0;for(var i=0;i<c.items.length;i++){var a=c.items[i];"pole"===a.type.slug?t.push(a):"head"===a.type.slug?n.push(a):r.push(a)}if(c.blackFriday&&0<t.length)return 0;if(0<t.length){var o=t[0].type.shippingPrice;e=1<t.length?o*t.length:o}else if(0<n.length){var s=n[0].type.shippingPrice;e=1<n.length?s*Math.ceil(n.length/2):s}else 0<r.length&&(e=r[0].type.shippingPrice);return e},c.subtotal=function(){var a=0,o=0;return angular.forEach(c.items,function(e,t){if("package"!=c.items[t].type.slug){var n=c.items[t].price,r=c.items[t].quantity;a+=n*r,c.discount&&(o+=s(n,r,c.discount.discount))}for(var i=0;i<c.items[t].addons.length;i++){n=c.items[t].addons[i].price,r=c.items[t].addons[i].quantity;a+=n*r,c.discount&&(o+=s(n,r,c.discount.discount))}}),c.discountSum=o,a-c.discountSum-c.discounts(a)},c.discounts=function(e){var t=0,r=0,i=0;return(e=e||!1)&&c.blackFriday?(c.discountText="Black Friday Discount - 20% off",t=100*Math.ceil(.2*e/100),c.eligibleForDiscount=!0,c.discountAmount=t):c.blackFriday?0:(angular.forEach(c.items,function(e,t){"glass"===c.items[t].type.slug&&(r+=parseInt(c.items[t].quantity),i=c.items[t].price);for(var n=0;n<c.items[t].addons.length;n++)"glass"===c.items[t].addons[n].type.slug&&(r+=parseInt(c.items[t].addons[n].quantity))}),4<=r?(t=4*i-4e3,c.eligibleForDiscount=!0,c.discountText="4 Glasses for $40"):(c.eligibleForDiscount=!1,c.discountText=""),c.discountAmount=t)},c.total=function(){return c.subtotal()+c.shipping()},c.submit=function(){var e=l();if(!1===c.enabled)return!1;c.enabled=!1,a.broadcast("Processing...","info"),i.createToken(e).then(function(e){var t={items:c.items,form:c.form,discount:c.discount,token:e};r.store(t).then(function(e){a.broadcast("Success! Redirecting...","success"),c.show=!1,c.emptyCart(),c.enabled=!0},function(e){o(JSON.stringify(e)),a.broadcast("Sorry, something went wrong on our end. We are fixing it soon!","error"),console.log("Something went wrong.")})})},c.hide=function(){n.hide()},c.emptyCart=function(){n.removeDiscount(),n.empty(),c.getItems(),c.getDiscountFromCookies()},c.validate=function(e){if(c.status="",1==e)return!0;if(2==e)return c.form.firstName?c.form.lastName?c.form.email?(t=c.form.email,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?c.form.phone?c.form.address?c.form.city?c.form.state?c.form.zip?!!c.form.country||(c.status="Please enter a country",a.broadcast("Please enter a country","error"),!1):(c.status="Please enter a zip",a.broadcast("Please enter a zip","error"),!1):(c.status="Please enter a state",a.broadcast("Please enter a state","error"),!1):(c.status="Please enter a city",a.broadcast("Please enter a city","error"),!1):(c.status="Please enter a street address.",a.broadcast("Please enter a street address","error"),!1):(c.status="Please enter phone number.",a.broadcast("Please enter a phone number","error"),!1):(c.status="Please enter a valid email address.",a.broadcast("Please enter a valid email address","error"),!1)):(c.status="Please enter an email address.",a.broadcast("Please enter an email address","error"),!1):(c.status="Please enter a last name.",a.broadcast("Please enter a last name","error"),!1):(c.status="Please enter a first name.",a.broadcast("Please enter a first name","error"),!1);var t;if(3==e){if(!c.card.isBillingSame){if(!c.form.billing_address)return c.status="Please enter Billing Address or check Billing Address same as Shipping Address",a.broadcast("Please enter Billing Address or check Billing Address same as Shipping Address","error"),!1;if(!c.form.billing_zip)return c.status="Please enter billing zip or check Billing Address same as Shipping Address",a.broadcast("Please enter billing zip or check Billing Address same as Shipping Address","error"),!1}var n=l(),r=i.validate(n);if(!1===r.response)return c.status=r.message,a.broadcast(c.status,"error"),!1;if(r.response)return!(c.status="")}},c.$on("update",function(){c.getItems()}),c.$on("show",function(){c.show=!0}),c.$on("hide",function(){c.show=!1}),c.applyDiscountCode=function(){e.get(c.enteredDiscountCode).then(function(e){c.discount=e.data,n.setDiscount(c.discount),c.total()},function(){alert("Code seams to be not correct. There is no discount for this code.")})},c.getItems(),c.getDiscountFromCookies()}]),app.controller("CartCountController",["$scope","CartService",function(e,t){function n(){e.count=t.count()}e.$on("update",function(){n()}),e.showCart=function(){t.show()},n()}]),app.controller("HearGoodStuffController",["$scope","HearGoodStuff","$exceptionHandler",function(t,e,n){t.email_address="",t.addEmailToMailingList=function(){e.store({email:t.email_address}).then(function(e){t.email_address=""},function(e){n(JSON.stringify(e)),console.log("Something went wrong.")})}}]),app.controller("MediaController",["$scope",function(e){e.productPage=!0,e.brandPage=!1,e.toProductPage=function(){e.productPage=!0,e.brandPage=!1,setTimeout(function(){Grid.init()},200)},e.toBrandPage=function(){e.productPage=!1,e.brandPage=!0}}]),app.controller("MobileNavigationController",["$scope","Product","NavigationService",function(e,t,n){e.open=!1,e.openAction=function(){n.open()},e.closeAction=function(){n.close()},e.$on("open",function(){e.open=!0}),e.$on("close",function(){e.open=!1})}]),app.controller("ProductController",["$scope","Product","CartService","Size","AlertService","$timeout","$exceptionHandler",function(r,e,i,a,t,n,o){r.fullSize=!0,r.loaded=!1,r.productAdded=!1,r.productAddedText="Add to Cart",r.product={},"pole"===layoutType||"extra"===layoutType?r.attached=!0:r.attached=!1,r.init=function(){r.getProduct()},r.getProduct=function(){e.get(productId).then(function(e){r.product=e.data,function(){for(var t=0;t<r.product.addons.length;t++){var n=r.product.addons[t];if(n.price_zero&&(n.product.price=0),n.product.sizeable){if("bands"===n.product.slug)var e=r.product.slug+"-band";else if("hardcore-bands"===n.product.slug)var e=r.product.slug+"-hardcore";void 0!==e&&a.getBySlug(e).then(function(e){"object"==typeof e&&e.data&&(e.data.hasOwnProperty("price")&&(n.product.price=e.data.price),e.data.hasOwnProperty("id")&&(n.product.sizeId=e.data.id))},function(e){o(JSON.stringify(e)),r.product.addons.splice(t,1)});break}}}(),r.loaded=!0},function(e){o(JSON.stringify(e)),t.broadcast("Sorry, there is an error. Your page may have not rendered correctly.","error")})},r.addToCart=function(){if("0"!==r.product.sizeable&&r.product.sizeable){var e=function(){for(var e=[],t=0;t<r.product.sizes.length;t++)r.product.sizes[t].checked&&e.push(r.product.sizes[t]);return e}();if(console.log("Product is sizeable"),!e.length)return!1;console.log("there are sizes");for(var t=0;t<e.length;t++){var n=angular.copy(r.product);n.name=e[t].name,n.price=e[t].price,n.shortName=e[t].shortName,n.sizeId=e[t].id,i.addItem(n)}}else i.addItem(r.product);r.productAddedTextChange(),function(){if("0"!==r.product.sizeable&&r.product.sizeable)for(var e=0;e<r.product.sizes.length;e++)r.product.sizes[e].checked=!1;else for(var e=0;e<r.product.addons.length;e++)r.product.addons[e].include_in_package||(r.product.addons[e].checked=!1)}()},r.openCart=function(){i.show()},r.scrollAcross=function(){"g-string"===r.product.slug||"black g-string"===r.product.slug?PoleScroll.center():PoleScroll.scrollAcross()},r.poleScrollInit=function(){PoleScroll.init()},r.goFullSize=function(){setTimeout(function(){PoleScroll.init()},20)},r.productAddedTextChange=function(){r.productAddedText="Item Added!",n(function(){r.productAddedText="Add to Cart"},4e3)},r.$on("itemAdded",function(){r.productAdded=!0}),r.init()}]),app.controller("QuoteFormController",["$scope","Product","$http","AlertService","$exceptionHandler",function(n,e,r,i,a){n.form={},n.poles=[],n.submitAttempted=!1,n.success=!1,e.getByType().then(function(e){n.poles=e.data.poles},function(e){a(JSON.stringify(e)),n.hidePoleChooser=!0}),n.submit=function(e){n.submitAttempted=!0;var t=new Nanobar({bg:"#fff"});e?(t.go(60),r.post("/quote",n.form).then(function(e){n.success=!0,i.broadcast("Success! We will get back to you as quick as we can!","success"),t.go(100)},function(e){a(JSON.stringify(e)),i.broadcast("Sorry, something went wrong. We will fix it as soon as possible","error"),t.go(100)})):i.broadcast("Please Fill in required fields","error")}}]),app.controller("ShippingRequestPaymentController",["$scope","AlertService","StripeService","ShippingRequest","$exceptionHandler",function(n,r,t,i,a){n.card={},n.success=!1,void 0!==typeof shippingRequestId?n.shippingRequestId=shippingRequestId:n.shippingRequestId=null,n.pay=function(){var e=function(){var e={};e.number=n.card.number,e.exp_month=n.card.expiryMonth,e.exp_year=n.card.expiryYear,e.cvc=n.card.securityCode,void 0!==typeof shippingRequestId?e.name=shippingRequestFullName:e.name=null;return e}();r.broadcast("Processing...","info"),t.createToken(e).then(function(e){var t={shippingRequestId:n.shippingRequestId,token:e};i.pay(t).success(function(e){r.broadcast("Success!","success"),n.success=!0}).error(function(e){a(JSON.stringify(e)),r.broadcast("Sorry, something went wrong on our end. We are fixing it soon!","error")})})}}]),app.controller("StoreController",["$scope","Product","$exceptionHandler",function(t,e,n){t.heads=[],t.poles=[],t.shrinker=[],t.extras=[],t.apparel=[],t.init=function(){t.getStore()},t.getStore=function(){e.getByType().then(function(e){t.heads=e.data.heads,t.poles=e.data.poles,t.shrinker=e.data.shrinker,t.extras1=e.data.extras.slice(0,3),t.extras2=e.data.extras.slice(3,7),t.extras3=e.data.extras.slice(7,11),t.apparel=e.data.apparel,t.glasses=e.data.glasses,t.packages=e.data.packages},function(e){n(JSON.stringify(e)),console.log("Something went wrong getting the store data.")})},t.init()}]),app.controller("VideoController",["$scope","$sce",function(n,r){n.videos=[{link:"//www.youtube.com/embed/qRm0BheSR_Q",title:"Spearfishing with GATKU Polespears",shortTitle:"At the Bahamas",description:"Video blog by Ted from Ted's Holdover about a hunting trip to the Bahama's using a GATKU Polespear."},{link:"//www.youtube.com/embed/aspLQ0hPoo0",title:"Break Away Setup",shortTitle:"Break Away Setup",description:"How to rig your own SLIP-TIP with break away system -"},{link:"//www.youtube.com/embed/xxbnO8oa72k",title:"Carp Killers",shortTitle:"Carp Killers",description:"Michael Dong and Dustin McIntyre tour Lake Mead to exterminate the invasive carp. The local ecosystem thanks them. All fish were killed with GAT-KU hybrid polespears."},{link:"//www.youtube.com/embed/CvRSkoTYq3s",title:"GATKU Gen-2 Polespears go to Baja",shortTitle:"GATKU Gone Baja",description:"Ryan Gattoni takes GATKU hybrid polespears south of the border in this short video."},{link:"//www.youtube.com/embed/8-eQhtrsdu8",title:"Nautilus Review",shortTitle:"Nautilus Review",description:"Video review of the GATKU Gen 2 Hybrid Polespear by Nautilus Spearfishing."},{link:"//www.youtube.com/embed/F3FEIE7rFsw",title:"Spearfishing in the Exumas",shortTitle:"In the Exumas",description:"Hunting Tiger Groupers and a close encounter with a shark. Video by Eric Poeltl. GATKU Polespear + Slip-Tip head used."}],n.activeVideo={},n.init=function(){n.setActiveVideo(0),ResponsiveVideo.init()},n.setActiveVideo=function(e){var t=String(n.videos[e].link);n.activeVideo=n.videos[e],n.activeVideo.link=r.trustAsResourceUrl(t)},n.init()}]);